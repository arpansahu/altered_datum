{"ast":null,"code":"import _slicedToArray from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import'./App.css';import Posts from'./components/admin/posts';import PostLoadingComponent from'./components/posts/postLoading';import axiosInstance from'./axios';import{useHistory}from'react-router';function Admin(){var history=useHistory();var PostLoading=PostLoadingComponent(Posts);var _useState=useState({loading:true,posts:null}),_useState2=_slicedToArray(_useState,2),appState=_useState2[0],setAppState=_useState2[1];useEffect(function(){axiosInstance.get().then(function(res){var allPosts=res.data;setAppState({loading:false,posts:allPosts});}).catch(function(err){// what now?\nconsole.log(\"Inside Error\",err);history.push('/login');});},[setAppState,localStorage.getItem('access_token')]);return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(PostLoading,{isLoading:appState.loading,posts:appState.posts}));}export default Admin;","map":{"version":3,"sources":["/app/src/Admin.js"],"names":["React","useEffect","useState","Posts","PostLoadingComponent","axiosInstance","useHistory","Admin","history","PostLoading","loading","posts","appState","setAppState","get","then","res","allPosts","data","catch","err","console","log","push","localStorage","getItem"],"mappings":"2HAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,0BAAlB,CACA,MAAOC,CAAAA,oBAAP,KAAiC,gCAAjC,CACA,MAAOC,CAAAA,aAAP,KAA0B,SAA1B,CACA,OAASC,UAAT,KAA2B,cAA3B,CAEA,QAASC,CAAAA,KAAT,EAAiB,CAChB,GAAMC,CAAAA,OAAO,CAAGF,UAAU,EAA1B,CACA,GAAMG,CAAAA,WAAW,CAAGL,oBAAoB,CAACD,KAAD,CAAxC,CAFgB,cAGgBD,QAAQ,CAAC,CACxCQ,OAAO,CAAE,IAD+B,CAExCC,KAAK,CAAE,IAFiC,CAAD,CAHxB,wCAGTC,QAHS,eAGCC,WAHD,eAQhBZ,SAAS,CAAC,UAAM,CACfI,aAAa,CAACS,GAAd,GAAoBC,IAApB,CAAyB,SAACC,GAAD,CAAS,CACjC,GAAMC,CAAAA,QAAQ,CAAGD,GAAG,CAACE,IAArB,CACAL,WAAW,CAAC,CAAEH,OAAO,CAAE,KAAX,CAAkBC,KAAK,CAAEM,QAAzB,CAAD,CAAX,CACA,CAHD,EAICE,KAJD,CAIO,SAAAC,GAAG,CAAI,CACb;AACAC,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4BF,GAA5B,EACAZ,OAAO,CAACe,IAAR,CAAa,QAAb,EACA,CARD,EAUA,CAXQ,CAWN,CAACV,WAAD,CAAcW,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAd,CAXM,CAAT,CAaA,mBACC,2BAAK,SAAS,CAAC,KAAf,eAEC,oBAAC,WAAD,EAAa,SAAS,CAAEb,QAAQ,CAACF,OAAjC,CAA0C,KAAK,CAAEE,QAAQ,CAACD,KAA1D,EAFD,CADD,CAMA,CACD,cAAeJ,CAAAA,KAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport Posts from './components/admin/posts';\nimport PostLoadingComponent from './components/posts/postLoading';\nimport axiosInstance from './axios';\nimport { useHistory } from 'react-router';\n\nfunction Admin() {\n\tconst history = useHistory();\n\tconst PostLoading = PostLoadingComponent(Posts);\n\tconst [appState, setAppState] = useState({\n\t\tloading: true,\n\t\tposts: null,\n\t});\n\n\tuseEffect(() => {\n\t\taxiosInstance.get().then((res) => {\n\t\t\tconst allPosts = res.data;\n\t\t\tsetAppState({ loading: false, posts: allPosts });\n\t\t})\n\t\t.catch(err => {\n\t\t\t// what now?\n\t\t\tconsole.log(\"Inside Error\", err);\n\t\t\thistory.push('/login');\n\t\t})\n\t\t;\n\t}, [setAppState, localStorage.getItem('access_token')])\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t{/* <h1>Latest Posts</h1> */}\n\t\t\t<PostLoading isLoading={appState.loading} posts={appState.posts} />\n\t\t</div>\n\t);\n}\nexport default Admin;\n"]},"metadata":{},"sourceType":"module"}