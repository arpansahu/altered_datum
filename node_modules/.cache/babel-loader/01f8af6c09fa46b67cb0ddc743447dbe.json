{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./App.css';import Posts from'./components/admin/posts';import PostLoadingComponent from'./components/posts/postLoading';import axiosInstance from'./axios';import{useHistory}from'react-router';function Admin(){const history=useHistory();const PostLoading=PostLoadingComponent(Posts);const[appState,setAppState]=useState({loading:true,posts:null});useEffect(()=>{const fetchPosts=async()=>{try{const accessToken=localStorage.getItem('access_token');const res=await axiosInstance.get('',{headers:{Authorization:`Bearer ${accessToken}`}});setAppState({loading:false,posts:res.data});}catch(err){console.error(\"Error fetching posts:\",err);history.push('/login');}};fetchPosts();},[history]);return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(PostLoading,{isLoading:appState.loading,posts:appState.posts}));}export default Admin;","map":{"version":3,"names":["React","useEffect","useState","Posts","PostLoadingComponent","axiosInstance","useHistory","Admin","history","PostLoading","appState","setAppState","loading","posts","fetchPosts","accessToken","localStorage","getItem","res","get","headers","Authorization","data","err","console","error","push","createElement","className","isLoading"],"sources":["/app/src/Admin.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport Posts from './components/admin/posts';\nimport PostLoadingComponent from './components/posts/postLoading';\nimport axiosInstance from './axios';\nimport { useHistory } from 'react-router';\n\nfunction Admin() {\n\tconst history = useHistory();\n\tconst PostLoading = PostLoadingComponent(Posts);\n\tconst [appState, setAppState] = useState({\n\t\tloading: true,\n\t\tposts: null,\n\t});\n\n\tuseEffect(() => {\n\t\tconst fetchPosts = async () => {\n\t\t\ttry {\n\t\t\t\tconst accessToken = localStorage.getItem('access_token');\n\t\t\t\tconst res = await axiosInstance.get('', {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Bearer ${accessToken}`,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tsetAppState({ loading: false, posts: res.data });\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(\"Error fetching posts:\", err);\n\t\t\t\thistory.push('/login');\n\t\t\t}\n\t\t};\n\n\t\tfetchPosts();\n\t}, [history]);\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<PostLoading isLoading={appState.loading} posts={appState.posts} />\n\t\t</div>\n\t);\n}\n\nexport default Admin;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,WAAW,CAClB,MAAO,CAAAC,KAAK,KAAM,0BAA0B,CAC5C,MAAO,CAAAC,oBAAoB,KAAM,gCAAgC,CACjE,MAAO,CAAAC,aAAa,KAAM,SAAS,CACnC,OAASC,UAAU,KAAQ,cAAc,CAEzC,QAAS,CAAAC,KAAKA,CAAA,CAAG,CAChB,KAAM,CAAAC,OAAO,CAAGF,UAAU,CAAC,CAAC,CAC5B,KAAM,CAAAG,WAAW,CAAGL,oBAAoB,CAACD,KAAK,CAAC,CAC/C,KAAM,CAACO,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,CACxCU,OAAO,CAAE,IAAI,CACbC,KAAK,CAAE,IACR,CAAC,CAAC,CAEFZ,SAAS,CAAC,IAAM,CACf,KAAM,CAAAa,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACH,KAAM,CAAAC,WAAW,CAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CACxD,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAb,aAAa,CAACc,GAAG,CAAC,EAAE,CAAE,CACvCC,OAAO,CAAE,CACRC,aAAa,CAAE,UAAUN,WAAW,EACrC,CACD,CAAC,CAAC,CACFJ,WAAW,CAAC,CAAEC,OAAO,CAAE,KAAK,CAAEC,KAAK,CAAEK,GAAG,CAACI,IAAK,CAAC,CAAC,CACjD,CAAE,MAAOC,GAAG,CAAE,CACbC,OAAO,CAACC,KAAK,CAAC,uBAAuB,CAAEF,GAAG,CAAC,CAC3Cf,OAAO,CAACkB,IAAI,CAAC,QAAQ,CAAC,CACvB,CACD,CAAC,CAEDZ,UAAU,CAAC,CAAC,CACb,CAAC,CAAE,CAACN,OAAO,CAAC,CAAC,CAEb,mBACCR,KAAA,CAAA2B,aAAA,QAAKC,SAAS,CAAC,KAAK,eACnB5B,KAAA,CAAA2B,aAAA,CAAClB,WAAW,EAACoB,SAAS,CAAEnB,QAAQ,CAACE,OAAQ,CAACC,KAAK,CAAEH,QAAQ,CAACG,KAAM,CAAE,CAC9D,CAAC,CAER,CAEA,cAAe,CAAAN,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module"}