{"ast":null,"code":"import _defineProperty from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axiosInstance from'../../axios';import{useHistory}from'react-router-dom';// MaterialUI\nimport CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import Button from'@material-ui/core/Button';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import HeaderForGuest from'../headerforguest';import Snackbar from\"@material-ui/core/Snackbar\";import SnackbarContent from\"@material-ui/core/SnackbarContent\";import IconButton from\"@material-ui/core/IconButton\";import ErrorIcon from\"@material-ui/icons/Error\";import CloseIcon from\"@material-ui/icons/Close\";import CheckCircleOutlineIcon from'@material-ui/icons/CheckCircleOutline';var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)},error:{backgroundColor:theme.palette.error.dark},success:{backgroundColor:theme.palette.success.main}};});export default function SignIn(){var classes=useStyles();var history=useHistory();useEffect(function(){if(localStorage.getItem('access_token')){history.push('/');}},[history]);var _useState=useState({email:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState({open:false,message:'',variant:''}),_useState4=_slicedToArray(_useState3,2),notification=_useState4[0],setNotification=_useState4[1];var handleChange=function handleChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value.trim())));};var handleSubmit=function handleSubmit(e){e.preventDefault();if(!formData.email){setNotification({open:true,message:\"Email is required\",variant:\"error\"});return;}axiosInstance.post(\"user/account/forgetpassword/\",{email:formData.email}).then(function(res){setNotification({open:true,message:\"Password reset link sent successfully\",variant:\"success\"});}).catch(function(error){if(error.response&&error.response.status===404){setNotification({open:true,message:\"Account with this email not found\",variant:\"error\"});}else{setNotification({open:true,message:\"An error occurred. Please try again.\",variant:\"error\"});}});};var handleClose=function handleClose(){setNotification(_objectSpread(_objectSpread({},notification),{},{open:false}));};return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(HeaderForGuest,null),/*#__PURE__*/React.createElement(Container,{component:\"main\",maxWidth:\"xs\"},/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(\"div\",{className:classes.paper},/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h5\"},\"Forget Password?\"),/*#__PURE__*/React.createElement(\"form\",{className:classes.form,noValidate:true,onSubmit:handleSubmit},/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",autoFocus:true,onChange:handleChange}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit},\"Reset Password\")),/*#__PURE__*/React.createElement(Snackbar,{open:notification.open,autoHideDuration:3000,onClose:handleClose,anchorOrigin:{vertical:\"bottom\",horizontal:\"center\"}},/*#__PURE__*/React.createElement(SnackbarContent,{className:classes[notification.variant],message:/*#__PURE__*/React.createElement(\"div\",null,notification.variant===\"error\"?/*#__PURE__*/React.createElement(ErrorIcon,{fontSize:\"large\"}):/*#__PURE__*/React.createElement(CheckCircleOutlineIcon,{fontSize:\"large\"}),/*#__PURE__*/React.createElement(\"span\",{style:{marginLeft:\"8px\"}},notification.message)),action:[/*#__PURE__*/React.createElement(IconButton,{key:\"close\",\"aria-label\":\"close\",onClick:handleClose},/*#__PURE__*/React.createElement(CloseIcon,null))]})))));}","map":{"version":3,"sources":["/app/src/components/auth/forgetpassword.js"],"names":["React","useState","useEffect","axiosInstance","useHistory","CssBaseline","TextField","Button","Typography","makeStyles","Container","HeaderForGuest","Snackbar","SnackbarContent","IconButton","ErrorIcon","CloseIcon","CheckCircleOutlineIcon","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","form","width","submit","margin","error","backgroundColor","palette","dark","success","main","SignIn","classes","history","localStorage","getItem","push","email","formData","setFormData","open","message","variant","notification","setNotification","handleChange","e","target","name","value","trim","handleSubmit","preventDefault","post","then","res","catch","response","status","handleClose","vertical","horizontal","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axiosInstance from '../../axios';\nimport { useHistory } from 'react-router-dom';\n// MaterialUI\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport HeaderForGuest from '../headerforguest';\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\n\nconst useStyles = makeStyles((theme) => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center',\n\t},\n\tform: {\n\t\twidth: '100%', // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing(1),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n\terror: {\n\t\tbackgroundColor: theme.palette.error.dark,\n\t},\n\tsuccess: {\n\t\tbackgroundColor: theme.palette.success.main,\n\t},\n}));\n\nexport default function SignIn() {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\n\tuseEffect(() => {\n\t\tif (localStorage.getItem('access_token')) {\n\t\t\thistory.push('/');\n\t\t}\n\t}, [history]);\n\n\tconst [formData, setFormData] = useState({\n\t\temail: '',\n\t});\n\n\tconst [notification, setNotification] = useState({\n\t\topen: false,\n\t\tmessage: '',\n\t\tvariant: '',\n\t});\n\n\tconst handleChange = (e) => {\n\t\tsetFormData({\n\t\t\t...formData,\n\t\t\t[e.target.name]: e.target.value.trim(),\n\t\t});\n\t};\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tif (!formData.email) {\n\t\t\tsetNotification({\n\t\t\t\topen: true,\n\t\t\t\tmessage: \"Email is required\",\n\t\t\t\tvariant: \"error\",\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\taxiosInstance\n\t\t\t.post(`user/account/forgetpassword/`, { email: formData.email })\n\t\t\t.then((res) => {\n\t\t\t\tsetNotification({\n\t\t\t\t\topen: true,\n\t\t\t\t\tmessage: \"Password reset link sent successfully\",\n\t\t\t\t\tvariant: \"success\",\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tif (error.response && error.response.status === 404) {\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\topen: true,\n\t\t\t\t\t\tmessage: \"Account with this email not found\",\n\t\t\t\t\t\tvariant: \"error\",\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\topen: true,\n\t\t\t\t\t\tmessage: \"An error occurred. Please try again.\",\n\t\t\t\t\t\tvariant: \"error\",\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tconst handleClose = () => {\n\t\tsetNotification({ ...notification, open: false });\n\t};\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<HeaderForGuest />\n\t\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t\t<CssBaseline />\n\t\t\t\t<div className={classes.paper}>\n\t\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t\tForget Password?\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<form className={classes.form} noValidate onSubmit={handleSubmit}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\tlabel=\"Email Address\"\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tReset Password\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</form>\n\t\t\t\t\t<Snackbar\n\t\t\t\t\t\topen={notification.open}\n\t\t\t\t\t\tautoHideDuration={3000}\n\t\t\t\t\t\tonClose={handleClose}\n\t\t\t\t\t\tanchorOrigin={{\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"center\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SnackbarContent\n\t\t\t\t\t\t\tclassName={classes[notification.variant]}\n\t\t\t\t\t\t\tmessage={\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{notification.variant === \"error\" ? (\n\t\t\t\t\t\t\t\t\t\t<ErrorIcon fontSize=\"large\" />\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<CheckCircleOutlineIcon fontSize=\"large\" />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<span style={{ marginLeft: \"8px\" }}>{notification.message}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taction={[\n\t\t\t\t\t\t\t\t<IconButton key=\"close\" aria-label=\"close\" onClick={handleClose}>\n\t\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t\t</IconButton>,\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Snackbar>\n\t\t\t\t</div>\n\t\t\t</Container>\n\t\t</div>\n\t);\n}"]},"metadata":{},"sourceType":"module"}