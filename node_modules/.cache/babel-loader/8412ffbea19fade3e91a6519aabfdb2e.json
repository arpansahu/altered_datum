{"ast":null,"code":"import React,{useState,useEffect}from'react';import axiosInstance from'../../axios';import{makeStyles}from'@material-ui/core/styles';import Card from'@material-ui/core/Card';import CardContent from'@material-ui/core/CardContent';import CardMedia from'@material-ui/core/CardMedia';import Grid from'@material-ui/core/Grid';import Typography from'@material-ui/core/Typography';import Container from'@material-ui/core/Container';import Link from'@material-ui/core/Link';const useStyles=makeStyles(theme=>({cardMedia:{paddingTop:'56.25%'// 16:9\n},link:{margin:theme.spacing(1,1.5),textDecoration:'none'},cardHeader:{backgroundColor:theme.palette.type==='light'?theme.palette.grey[200]:theme.palette.grey[700]},postTitle:{fontSize:'16px',textAlign:'left'},postText:{display:'flex',justifyContent:'left',alignItems:'baseline',fontSize:'12px',textAlign:'left',marginBottom:theme.spacing(2)},card:{padding:theme.spacing(2)}}));const Search=()=>{const classes=useStyles();const[appState,setAppState]=useState({posts:[],loading:true,error:null});useEffect(()=>{axiosInstance.get('search/'+window.location.search).then(res=>{const allPosts=res.data;setAppState({posts:allPosts,loading:false});}).catch(err=>{setAppState({posts:[],loading:false,error:err});console.error('Error fetching posts:',err);});},[]);if(appState.loading){return/*#__PURE__*/React.createElement(\"p\",null,\"Loading posts...\");}if(appState.error){return/*#__PURE__*/React.createElement(\"p\",null,\"Something went wrong. Please try again later.\");}if(appState.posts.length===0){return/*#__PURE__*/React.createElement(\"p\",null,\"No posts found for your search query.\");}return/*#__PURE__*/React.createElement(Container,{maxWidth:\"md\",component:\"main\"},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:5,alignItems:\"flex-end\"},appState.posts.map(post=>/*#__PURE__*/React.createElement(Grid,{item:true,key:post.id,xs:12,md:4},/*#__PURE__*/React.createElement(Card,{className:classes.card},/*#__PURE__*/React.createElement(Link,{color:\"textPrimary\",href:`/post/${post.slug}`,className:classes.link},/*#__PURE__*/React.createElement(CardMedia,{className:classes.cardMedia,image:post.image||'https://source.unsplash.com/random',title:post.title})),/*#__PURE__*/React.createElement(CardContent,{className:classes.cardContent},/*#__PURE__*/React.createElement(Typography,{gutterBottom:true,variant:\"h6\",component:\"h2\",className:classes.postTitle},post.title.length>50?`${post.title.substr(0,50)}...`:post.title),/*#__PURE__*/React.createElement(\"div\",{className:classes.postText},/*#__PURE__*/React.createElement(Typography,{color:\"textSecondary\"},post.excerpt.length>40?`${post.excerpt.substr(0,40)}...`:post.excerpt))))))));};export default Search;","map":{"version":3,"names":["React","useState","useEffect","axiosInstance","makeStyles","Card","CardContent","CardMedia","Grid","Typography","Container","Link","useStyles","theme","cardMedia","paddingTop","link","margin","spacing","textDecoration","cardHeader","backgroundColor","palette","type","grey","postTitle","fontSize","textAlign","postText","display","justifyContent","alignItems","marginBottom","card","padding","Search","classes","appState","setAppState","posts","loading","error","get","window","location","search","then","res","allPosts","data","catch","err","console","createElement","length","maxWidth","component","container","map","post","item","key","id","xs","md","className","color","href","slug","image","title","cardContent","gutterBottom","variant","substr","excerpt"],"sources":["/app/src/components/posts/search.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axiosInstance from '../../axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Link from '@material-ui/core/Link';\n\nconst useStyles = makeStyles((theme) => ({\n\tcardMedia: {\n\t\tpaddingTop: '56.25%', // 16:9\n\t},\n\tlink: {\n\t\tmargin: theme.spacing(1, 1.5),\n\t\ttextDecoration: 'none',\n\t},\n\tcardHeader: {\n\t\tbackgroundColor:\n\t\t\ttheme.palette.type === 'light'\n\t\t\t\t? theme.palette.grey[200]\n\t\t\t\t: theme.palette.grey[700],\n\t},\n\tpostTitle: {\n\t\tfontSize: '16px',\n\t\ttextAlign: 'left',\n\t},\n\tpostText: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'left',\n\t\talignItems: 'baseline',\n\t\tfontSize: '12px',\n\t\ttextAlign: 'left',\n\t\tmarginBottom: theme.spacing(2),\n\t},\n\tcard: {\n\t\tpadding: theme.spacing(2),\n\t},\n}));\n\nconst Search = () => {\n\tconst classes = useStyles();\n\tconst [appState, setAppState] = useState({\n\t\tposts: [],\n\t\tloading: true,\n\t\terror: null,\n\t});\n\n\tuseEffect(() => {\n\t\taxiosInstance\n\t\t\t.get('search/' + window.location.search)\n\t\t\t.then((res) => {\n\t\t\t\tconst allPosts = res.data;\n\t\t\t\tsetAppState({ posts: allPosts, loading: false });\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tsetAppState({ posts: [], loading: false, error: err });\n\t\t\t\tconsole.error('Error fetching posts:', err);\n\t\t\t});\n\t}, []);\n\n\tif (appState.loading) {\n\t\treturn <p>Loading posts...</p>;\n\t}\n\n\tif (appState.error) {\n\t\treturn <p>Something went wrong. Please try again later.</p>;\n\t}\n\n\tif (appState.posts.length === 0) {\n\t\treturn <p>No posts found for your search query.</p>;\n\t}\n\n\treturn (\n\t\t<Container maxWidth=\"md\" component=\"main\">\n\t\t\t<Grid container spacing={5} alignItems=\"flex-end\">\n\t\t\t\t{appState.posts.map((post) => (\n\t\t\t\t\t<Grid item key={post.id} xs={12} md={4}>\n\t\t\t\t\t\t<Card className={classes.card}>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tcolor=\"textPrimary\"\n\t\t\t\t\t\t\t\thref={`/post/${post.slug}`}\n\t\t\t\t\t\t\t\tclassName={classes.link}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CardMedia\n\t\t\t\t\t\t\t\t\tclassName={classes.cardMedia}\n\t\t\t\t\t\t\t\t\timage={post.image || 'https://source.unsplash.com/random'}\n\t\t\t\t\t\t\t\t\ttitle={post.title}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<CardContent className={classes.cardContent}>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\t\t\t\tcomponent=\"h2\"\n\t\t\t\t\t\t\t\t\tclassName={classes.postTitle}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{post.title.length > 50 ? `${post.title.substr(0, 50)}...` : post.title}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<div className={classes.postText}>\n\t\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\t{post.excerpt.length > 40\n\t\t\t\t\t\t\t\t\t\t\t? `${post.excerpt.substr(0, 40)}...`\n\t\t\t\t\t\t\t\t\t\t\t: post.excerpt}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Grid>\n\t\t\t\t))}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n};\n\nexport default Search;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}