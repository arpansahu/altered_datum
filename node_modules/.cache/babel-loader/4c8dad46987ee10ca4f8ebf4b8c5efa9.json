{"ast":null,"code":"import React,{useState,useEffect}from'react';import axiosInstance from'../../axios';import{useHistory}from'react-router-dom';// MaterialUI\nimport CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import Button from'@material-ui/core/Button';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import HeaderForGuest from'../headerforguest';import Snackbar from\"@material-ui/core/Snackbar\";import SnackbarContent from\"@material-ui/core/SnackbarContent\";import IconButton from\"@material-ui/core/IconButton\";import ErrorIcon from\"@material-ui/icons/Error\";import CloseIcon from\"@material-ui/icons/Close\";import CheckCircleOutlineIcon from'@material-ui/icons/CheckCircleOutline';const useStyles=makeStyles(theme=>({paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)},error:{backgroundColor:theme.palette.error.dark},success:{backgroundColor:theme.palette.success.main}}));export default function SignIn(){const classes=useStyles();const history=useHistory();useEffect(()=>{if(localStorage.getItem('access_token')){history.push('/');}},[history]);const[formData,setFormData]=useState({email:''});const[notification,setNotification]=useState({open:false,message:'',variant:''});const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value.trim()});};const handleSubmit=e=>{e.preventDefault();if(!formData.email){setNotification({open:true,message:\"Email is required\",variant:\"error\"});return;}axiosInstance.post(`user/account/forgetpassword/`,{email:formData.email}).then(res=>{setNotification({open:true,message:\"Password reset link sent successfully\",variant:\"success\"});}).catch(error=>{if(error.response&&error.response.status===404){setNotification({open:true,message:\"Account with this email not found\",variant:\"error\"});}else{setNotification({open:true,message:\"An error occurred. Please try again.\",variant:\"error\"});}});};const handleClose=()=>{setNotification({...notification,open:false});};return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(HeaderForGuest,null),/*#__PURE__*/React.createElement(Container,{component:\"main\",maxWidth:\"xs\"},/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(\"div\",{className:classes.paper},/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h5\"},\"Forget Password?\"),/*#__PURE__*/React.createElement(\"form\",{className:classes.form,noValidate:true,onSubmit:handleSubmit},/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",autoFocus:true,onChange:handleChange}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit},\"Reset Password\")),/*#__PURE__*/React.createElement(Snackbar,{open:notification.open,autoHideDuration:3000,onClose:handleClose,anchorOrigin:{vertical:\"bottom\",horizontal:\"center\"}},/*#__PURE__*/React.createElement(SnackbarContent,{className:classes[notification.variant],message:/*#__PURE__*/React.createElement(\"div\",null,notification.variant===\"error\"?/*#__PURE__*/React.createElement(ErrorIcon,{fontSize:\"large\"}):/*#__PURE__*/React.createElement(CheckCircleOutlineIcon,{fontSize:\"large\"}),/*#__PURE__*/React.createElement(\"span\",{style:{marginLeft:\"8px\"}},notification.message)),action:[/*#__PURE__*/React.createElement(IconButton,{key:\"close\",\"aria-label\":\"close\",onClick:handleClose},/*#__PURE__*/React.createElement(CloseIcon,null))]})))));}","map":{"version":3,"names":["React","useState","useEffect","axiosInstance","useHistory","CssBaseline","TextField","Button","Typography","makeStyles","Container","HeaderForGuest","Snackbar","SnackbarContent","IconButton","ErrorIcon","CloseIcon","CheckCircleOutlineIcon","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","form","width","submit","margin","error","backgroundColor","palette","dark","success","main","SignIn","classes","history","localStorage","getItem","push","formData","setFormData","email","notification","setNotification","open","message","variant","handleChange","e","target","name","value","trim","handleSubmit","preventDefault","post","then","res","catch","response","status","handleClose","createElement","className","component","maxWidth","noValidate","onSubmit","required","fullWidth","id","label","autoComplete","autoFocus","onChange","type","color","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","fontSize","style","marginLeft","action","key","onClick"],"sources":["/app/src/components/auth/forgetpassword.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axiosInstance from '../../axios';\nimport { useHistory } from 'react-router-dom';\n// MaterialUI\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport HeaderForGuest from '../headerforguest';\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\n\nconst useStyles = makeStyles((theme) => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center',\n\t},\n\tform: {\n\t\twidth: '100%', // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing(1),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n\terror: {\n\t\tbackgroundColor: theme.palette.error.dark,\n\t},\n\tsuccess: {\n\t\tbackgroundColor: theme.palette.success.main,\n\t},\n}));\n\nexport default function SignIn() {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\n\tuseEffect(() => {\n\t\tif (localStorage.getItem('access_token')) {\n\t\t\thistory.push('/');\n\t\t}\n\t}, [history]);\n\n\tconst [formData, setFormData] = useState({\n\t\temail: '',\n\t});\n\n\tconst [notification, setNotification] = useState({\n\t\topen: false,\n\t\tmessage: '',\n\t\tvariant: '',\n\t});\n\n\tconst handleChange = (e) => {\n\t\tsetFormData({\n\t\t\t...formData,\n\t\t\t[e.target.name]: e.target.value.trim(),\n\t\t});\n\t};\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tif (!formData.email) {\n\t\t\tsetNotification({\n\t\t\t\topen: true,\n\t\t\t\tmessage: \"Email is required\",\n\t\t\t\tvariant: \"error\",\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\taxiosInstance\n\t\t\t.post(`user/account/forgetpassword/`, { email: formData.email })\n\t\t\t.then((res) => {\n\t\t\t\tsetNotification({\n\t\t\t\t\topen: true,\n\t\t\t\t\tmessage: \"Password reset link sent successfully\",\n\t\t\t\t\tvariant: \"success\",\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tif (error.response && error.response.status === 404) {\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\topen: true,\n\t\t\t\t\t\tmessage: \"Account with this email not found\",\n\t\t\t\t\t\tvariant: \"error\",\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\topen: true,\n\t\t\t\t\t\tmessage: \"An error occurred. Please try again.\",\n\t\t\t\t\t\tvariant: \"error\",\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tconst handleClose = () => {\n\t\tsetNotification({ ...notification, open: false });\n\t};\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<HeaderForGuest />\n\t\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t\t<CssBaseline />\n\t\t\t\t<div className={classes.paper}>\n\t\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t\tForget Password?\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<form className={classes.form} noValidate onSubmit={handleSubmit}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\tlabel=\"Email Address\"\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tReset Password\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</form>\n\t\t\t\t\t<Snackbar\n\t\t\t\t\t\topen={notification.open}\n\t\t\t\t\t\tautoHideDuration={3000}\n\t\t\t\t\t\tonClose={handleClose}\n\t\t\t\t\t\tanchorOrigin={{\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"center\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SnackbarContent\n\t\t\t\t\t\t\tclassName={classes[notification.variant]}\n\t\t\t\t\t\t\tmessage={\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{notification.variant === \"error\" ? (\n\t\t\t\t\t\t\t\t\t\t<ErrorIcon fontSize=\"large\" />\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<CheckCircleOutlineIcon fontSize=\"large\" />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<span style={{ marginLeft: \"8px\" }}>{notification.message}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taction={[\n\t\t\t\t\t\t\t\t<IconButton key=\"close\" aria-label=\"close\" onClick={handleClose}>\n\t\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t\t</IconButton>,\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Snackbar>\n\t\t\t\t</div>\n\t\t\t</Container>\n\t\t</div>\n\t);\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}