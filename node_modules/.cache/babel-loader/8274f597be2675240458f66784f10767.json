{"ast":null,"code":"import _objectWithoutProperties from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _slicedToArray from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Component,useState,useEffect}from'react';import{Route,BrowserRouter as Router,Switch,Redirect,useHistory}from'react-router-dom';import App from'./App';import Header from'./components/header';import Footer from'./components/footer';import Register from'./components/auth/register';import Login from'./components/auth/login';import Logout from'./components/auth/logout';import Single from'./components/posts/single';import Search from'./components/posts/search';import Admin from'./Admin';import Create from'./components/admin/create';import Edit from'./components/admin/edit';import Delete from'./components/admin/delete';import Testing from'./components/testing';import jwt_decode from\"jwt-decode\";import axiosInstance from'./axios';import HeaderWrapper from'./components/headerwrapper';import Account from'./components/auth/account';import PasswordReset from'./components/auth/passwordupdate';import Activate from'./components/auth/activate';import NotActivated from'./components/auth/notactivated';import ForgetPassword from'./components/auth/forgetpassword';import Reset from'./components/auth/reset';function AppWrapper(){// console.log(\"appwrapper\");\nvar history=useHistory();var _useState=useState(localStorage.getItem('access_token')),_useState2=_slicedToArray(_useState,2),token_var=_useState2[0],setToken_var=_useState2[1];useEffect(function(){setToken_var(localStorage.getItem('access_token'));});var ProtectedRoute=function ProtectedRoute(_ref){var Component=_ref.component,rest=_objectWithoutProperties(_ref,[\"component\"]);return/*#__PURE__*/React.createElement(Route,Object.assign({},rest,{render:function render(props){return(// console.log(token_var) && \ntoken_var?/*#__PURE__*/React.createElement(Component,props):/*#__PURE__*/React.createElement(Redirect,{to:{pathname:'/login',state:{from:props.location}}}));}}));};// console.log(token_var);\nreturn/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(React.StrictMode,null,/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(ProtectedRoute,{exact:true,path:\"/\",component:App}),/*#__PURE__*/React.createElement(ProtectedRoute,{exact:true,path:\"/admin\",component:Admin}),/*#__PURE__*/React.createElement(ProtectedRoute,{exact:true,path:\"/admin/create\",component:Create}),/*#__PURE__*/React.createElement(ProtectedRoute,{exact:true,path:\"/admin/edit/:id\",component:Edit}),/*#__PURE__*/React.createElement(ProtectedRoute,{exact:true,path:\"/admin/delete/:id\",component:Delete}),/*#__PURE__*/React.createElement(Route,{path:\"/register\",component:Register}),/*#__PURE__*/React.createElement(Route,{path:\"/login\",component:Login}),/*#__PURE__*/React.createElement(ProtectedRoute,{path:\"/logout\",component:Logout}),/*#__PURE__*/React.createElement(ProtectedRoute,{path:\"/post/:slug\",component:Single}),/*#__PURE__*/React.createElement(ProtectedRoute,{path:\"/search\",component:Search}),/*#__PURE__*/React.createElement(ProtectedRoute,{path:\"/testing\",component:Testing}),/*#__PURE__*/React.createElement(ProtectedRoute,{exact:true,path:\"/account\",component:Account}),/*#__PURE__*/React.createElement(ProtectedRoute,{exact:true,path:\"/account/passwordupdate\",component:PasswordReset}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/activate/:uidb64/:token\",component:Activate}),/*#__PURE__*/React.createElement(ProtectedRoute,{exact:true,path:\"/unverified\",component:NotActivated}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/forget-password\",component:ForgetPassword}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/reset/:uidb64/:token\",component:Reset})),/*#__PURE__*/React.createElement(Footer,null)));}export default AppWrapper;","map":{"version":3,"sources":["/app/src/AppWrapper.js"],"names":["React","Component","useState","useEffect","Route","BrowserRouter","Router","Switch","Redirect","useHistory","App","Header","Footer","Register","Login","Logout","Single","Search","Admin","Create","Edit","Delete","Testing","jwt_decode","axiosInstance","HeaderWrapper","Account","PasswordReset","Activate","NotActivated","ForgetPassword","Reset","AppWrapper","history","localStorage","getItem","token_var","setToken_var","ProtectedRoute","component","rest","props","pathname","state","from","location"],"mappings":"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","sourcesContent":["import React,  {Component,useState, useEffect} from 'react'\nimport { Route, BrowserRouter as Router, Switch, Redirect, useHistory } from 'react-router-dom';\nimport App from './App';\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Register from './components/auth/register';\nimport Login from './components/auth/login';\nimport Logout from './components/auth/logout';\nimport Single from './components/posts/single';\nimport Search from './components/posts/search';\nimport Admin from './Admin';\nimport Create from './components/admin/create';\nimport Edit from './components/admin/edit';\nimport Delete from './components/admin/delete';\nimport Testing from './components/testing';\nimport jwt_decode from \"jwt-decode\";\nimport axiosInstance from './axios';\nimport HeaderWrapper from './components/headerwrapper';\nimport Account from './components/auth/account';\nimport PasswordReset from './components/auth/passwordupdate';\nimport Activate from './components/auth/activate';\nimport NotActivated from './components/auth/notactivated';\nimport ForgetPassword from './components/auth/forgetpassword';\nimport Reset from './components/auth/reset';\n\nfunction AppWrapper() {\n    // console.log(\"appwrapper\");\n    const history = useHistory();\n    const [token_var, setToken_var] = useState(localStorage.getItem('access_token'));\n    \n\n\n    useEffect(() => {\n        setToken_var(localStorage.getItem('access_token'))\n    });\n\n\n    const ProtectedRoute = ({ component: Component, ...rest }) => (\n        <Route {...rest} render={(props) => (\n            // console.log(token_var) && \n            token_var\n            ? <Component {...props} />\n            : <Redirect to={{\n                pathname: '/login',\n                state: { from: props.location }\n              }} />\n        )} \n        />\n    );\n    // console.log(token_var);\n    return (\n        <Router>\n\t\t<React.StrictMode>\n\t\t\t<Switch>\n\t\t\t\t{/* {token_var && <ProtectedRoute exact path=\"/\" component={App} />} */}\n                <ProtectedRoute exact path=\"/\" component={App} />\n\t\t\t\t<ProtectedRoute exact path=\"/admin\" component={Admin} />\n\t\t\t\t<ProtectedRoute exact path=\"/admin/create\" component={Create} />\n\t\t\t\t<ProtectedRoute exact path=\"/admin/edit/:id\" component={Edit} />\n\t\t\t\t<ProtectedRoute exact path=\"/admin/delete/:id\" component={Delete} />\n\t\t\t\t<Route path=\"/register\" component={Register} />\n\t\t\t\t<Route path=\"/login\" component={Login} />\n\t\t\t\t<ProtectedRoute path=\"/logout\" component={Logout} />\n\t\t\t\t<ProtectedRoute path=\"/post/:slug\" component={Single} />\n\t\t\t\t<ProtectedRoute path=\"/search\" component={Search} />\n                <ProtectedRoute path=\"/testing\" component={Testing} />\n                <ProtectedRoute exact path=\"/account\" component={Account} />\n                <ProtectedRoute exact path=\"/account/passwordupdate\" component={PasswordReset} />\n                <Route exact path=\"/activate/:uidb64/:token\" component={Activate}/>\n                <ProtectedRoute exact path=\"/unverified\" component={NotActivated}/>\n                <Route exact path =\"/forget-password\" component={ForgetPassword}/>\n                <Route exact path=\"/reset/:uidb64/:token\" component={Reset}/>\n\t\t\t</Switch>\n\t\t\t<Footer />\n\t\t</React.StrictMode>\n\t</Router>\n    )\n}\n\nexport default AppWrapper\n"]},"metadata":{},"sourceType":"module"}