{"ast":null,"code":"var _jsxFileName = \"/Users/arpansahu/projects/profile/altered_datum/src/components/header.js\";\nimport React, { useState, useEffect } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { makeStyles, withTheme } from '@material-ui/core/styles';\nimport { link, NavLink } from 'react-router-dom';\nimport Link from '@material-ui/core/Link';\nimport Button from '@material-ui/core/Button';\nimport logo from '../logo.png';\nimport SearchBar from 'material-ui-search-bar';\nimport { useHistory } from 'react-router-dom';\nimport axiosInstance from '../axios';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    // borderBottom: `px solid ${theme.palette.divider}`,\n    color: 'white'\n  },\n  link: {\n    margin: theme.spacing(1, 1.5)\n  },\n  toolbarTitle: {\n    flexGrow: 1\n  },\n  toolbar: {\n    minHeight: '100px'\n  },\n  logo: {\n    maxWidth: 80,\n    maxHeight: 80,\n    borderRadius: 10,\n    flexGrow: 1\n  },\n  back: {\n    alignSelf: 'center',\n    color: \"primary\",\n    marginBlockStart: 0,\n    marginBlockEnd: 0\n  }\n}));\n\nfunction Header() {\n  let history = useHistory();\n  let token_var = localStorage.getItem('access_token');\n  let user_obj = {}; // if(token_var){\n  // \t// console.log(\"IF\")\n  // \taxiosInstance.get('user/account/')\n  // \t.then((res) => {\n  // \t\tconst account = res.data;\n  // \t\tconsole.log(account)\n  // \t\tuser_obj = {\n  // \t\t\tis_superuser: account.is_staff,\n  // \t\t\tusername: account.username,\n  // \t\t\temail: account.email,\n  // \t\t\tid: account.id,\n  // \t\t\tis_active:account.is_active,\n  // \t\t\tis_email_verified: account.is_email_verified\n  // \t\t}\n  // \t\tif(!account.is_email_verified)\n  // \t\t{\n  // \t\t\thistory.push('/unverified')\n  // \t\t}\n  // \t})\n  // \t.catch(err => {\n  // \t\tconsole.log(\"Inside Error\", err);\n  // \t})\n  // \t;\n  // }\n  // else{\n  // \t// console.log(\"ELSE\")\n  // \tuser_obj = {\n  // \t\tis_superuser: false,\n  // \t\tusername: null,\n  // \t\temail:null,\n  // \t\tid: null,\n  // \t\tis_active:false,\n  // \t\tis_email_verified: false\n  // \t}\n  // }\n\n  const [appState, setsppState] = useState({\n    token: token_var,\n    user_data: user_obj\n  });\n\n  const useReactPath = () => {\n    const [path, setPath] = React.useState(window.location.pathname);\n\n    const listenToPopstate = () => {\n      const winPath = window.location.pathname;\n      setPath(winPath);\n    };\n\n    React.useEffect(() => {\n      window.addEventListener(\"popstate\", listenToPopstate);\n      return () => {\n        window.removeEventListener(\"popstate\", listenToPopstate);\n      };\n    }, []);\n    return path;\n  };\n\n  const path = useReactPath();\n  useEffect(() => {\n    axiosInstance.get('user/account/').then(res => {\n      const account = res.data; // console.log(account)\n\n      user_obj = {\n        is_superuser: account.is_staff,\n        username: account.username,\n        email: account.email,\n        id: account.id,\n        is_active: account.is_active,\n        is_email_verified: account.is_email_verified\n      };\n      setsppState({\n        token: localStorage.getItem('access_token'),\n        user_data: user_obj\n      });\n\n      if (!account.is_email_verified) {\n        history.push('/unverified');\n      }\n    }).catch(err => {\n      console.log(\"Inside Error\", err);\n    }); // if(!user_obj.is_active){\n    // \thistory.push('/logout')\n    // }\n    // console.log(user_obj.is_active);\n  }, [path, localStorage.getItem('access_token')]); // console.log(appState['user_data'].is_superuser, path);\t\t\n\n  const classes = useStyles(); // let history = useHistory();\n\n  const [data, setData] = useState({\n    search: ''\n  }); // const [is_admin, setAdmin] =  useState(check_is_admin())\n\n  const goSearch = e => {\n    history.push({\n      pathname: '/search/',\n      search: '?search=' + data.search\n    });\n    window.location.reload();\n  };\n\n  const goBack = () => {\n    history.goBack();\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(AppBar, {\n    position: \"static\",\n    color: \"default\",\n    elevation: 0,\n    className: classes.appBar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    className: classes.toolbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    component: NavLink,\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    alt: \"Altered Datum Logo\",\n    className: classes.logo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    color: \"inherit\",\n    noWrap: true,\n    className: classes.toolbarTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    marginLeft: \"auto\",\n    marginRight: \"auto\" // variant=\"outlined\"\n    ,\n    className: classes.back // component={NavLink}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: classes.back,\n    onClick: goBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ArrowBackIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 8\n    }\n  }))), appState['token'] && /*#__PURE__*/React.createElement(SearchBar, {\n    value: data.search,\n    onChange: newValue => setData({\n      search: newValue\n    }),\n    onRequestSearch: () => goSearch(data.search),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 28\n    }\n  }), appState['user_data'].is_superuser && /*#__PURE__*/React.createElement(Button, {\n    href: \"#\",\n    color: \"primary\",\n    variant: \"outlined\",\n    className: classes.link,\n    component: NavLink,\n    to: \"/admin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 8\n    }\n  }, \"Admin Panel\"), /*#__PURE__*/React.createElement(Button, {\n    href: \"#\",\n    color: \"primary\",\n    variant: \"outlined\",\n    className: classes.link,\n    component: NavLink,\n    to: \"/account/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 6\n    }\n  }, \"My Account\"), /*#__PURE__*/React.createElement(Button, {\n    href: \"#\",\n    color: \"primary\",\n    variant: \"outlined\",\n    className: classes.link,\n    component: NavLink,\n    to: \"/logout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 6\n    }\n  }, \"Logout\"))));\n}\n\nexport default Header;","map":{"version":3,"sources":["/Users/arpansahu/projects/profile/altered_datum/src/components/header.js"],"names":["React","useState","useEffect","AppBar","Toolbar","Typography","CssBaseline","makeStyles","withTheme","link","NavLink","Link","Button","logo","SearchBar","useHistory","axiosInstance","ArrowBackIcon","useStyles","theme","appBar","color","margin","spacing","toolbarTitle","flexGrow","toolbar","minHeight","maxWidth","maxHeight","borderRadius","back","alignSelf","marginBlockStart","marginBlockEnd","Header","history","token_var","localStorage","getItem","user_obj","appState","setsppState","token","user_data","useReactPath","path","setPath","window","location","pathname","listenToPopstate","winPath","addEventListener","removeEventListener","get","then","res","account","data","is_superuser","is_staff","username","email","id","is_active","is_email_verified","push","catch","err","console","log","classes","setData","search","goSearch","e","reload","goBack","newValue"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { makeStyles, withTheme } from '@material-ui/core/styles';\nimport { link, NavLink } from 'react-router-dom';\nimport Link from '@material-ui/core/Link';\nimport Button from '@material-ui/core/Button';\nimport logo from '../logo.png'\nimport SearchBar from 'material-ui-search-bar';\nimport { useHistory } from 'react-router-dom';\nimport axiosInstance from '../axios';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\n\n\nconst useStyles = makeStyles((theme) => ({\n\tappBar: {\n\t\t// borderBottom: `px solid ${theme.palette.divider}`,\n\t\tcolor: 'white'\n\t},\n\tlink: {\n\t\tmargin: theme.spacing(1, 1.5),\n\t},\n\ttoolbarTitle: {\n\t\tflexGrow: 1,\n\t},\n\ttoolbar: {\n\t\tminHeight: '100px',\n\t},\n\tlogo: {\n\t\tmaxWidth: 80,\n\t\tmaxHeight: 80,\n\t\tborderRadius: 10,\n\t\tflexGrow: 1,\n\t},\n\tback: {\n\n\t\talignSelf: 'center',\n\t\tcolor: \"primary\",\n\t\tmarginBlockStart: 0,\n\t\tmarginBlockEnd: 0,\n\t\t\n\t},\n}));\n\nfunction Header() {\n\tlet history = useHistory();\n\n\tlet token_var =localStorage.getItem('access_token');\n\tlet user_obj = {}\n\t\n\t// if(token_var){\n\t// \t// console.log(\"IF\")\n\t// \taxiosInstance.get('user/account/')\n\t// \t.then((res) => {\n\t// \t\tconst account = res.data;\n\t// \t\tconsole.log(account)\n\t// \t\tuser_obj = {\n\t// \t\t\tis_superuser: account.is_staff,\n\t// \t\t\tusername: account.username,\n\t// \t\t\temail: account.email,\n\t// \t\t\tid: account.id,\n\t// \t\t\tis_active:account.is_active,\n\t// \t\t\tis_email_verified: account.is_email_verified\n\t// \t\t}\n\t// \t\tif(!account.is_email_verified)\n\t// \t\t{\n\t// \t\t\thistory.push('/unverified')\n\t// \t\t}\n\t// \t})\n\t// \t.catch(err => {\n\t// \t\tconsole.log(\"Inside Error\", err);\n\t// \t})\n\t\t\n\t// \t;\n\t// }\n\t// else{\n\t// \t// console.log(\"ELSE\")\n\t// \tuser_obj = {\n\t// \t\tis_superuser: false,\n\t// \t\tusername: null,\n\t// \t\temail:null,\n\t// \t\tid: null,\n\t// \t\tis_active:false,\n\t// \t\tis_email_verified: false\n\t// \t}\n\t// }\n\tconst[appState, setsppState] = useState(\n\t\t\t{\t\n\t\t\t\ttoken:token_var, \n\t\t\t\tuser_data : user_obj\n\t\t\t}\n\t\t)\n\tconst useReactPath = () => {\n\t\tconst [path, setPath] = React.useState(window.location.pathname);\n\t\tconst listenToPopstate = () => {\n\t\t\tconst winPath = window.location.pathname;\n\t\t\tsetPath(winPath);\n\t\t};\n\t\tReact.useEffect(() => {\n\t\t\twindow.addEventListener(\"popstate\", listenToPopstate);\n\t\t\treturn () => {\n\t\t\twindow.removeEventListener(\"popstate\", listenToPopstate);\n\t\t\t};\n\t\t}, []);\n\t\treturn path;\n\t};\n\tconst path = useReactPath();\n\tuseEffect(\n\t\t()=>{\n\t\t\taxiosInstance.get('user/account/')\n\t\t\t\t.then((res) => {\n\t\t\t\t\tconst account = res.data;\n\t\t\t\t\t// console.log(account)\n\t\t\t\t\tuser_obj = {\n\t\t\t\t\t\tis_superuser: account.is_staff,\n\t\t\t\t\t\tusername: account.username,\n\t\t\t\t\t\temail: account.email,\n\t\t\t\t\t\tid: account.id,\n\t\t\t\t\t\tis_active: account.is_active,\n\t\t\t\t\t\tis_email_verified: account.is_email_verified\n\t\t\t\t\t}\n\n\t\t\t\t\tsetsppState(\n\t\t\t\t\t\t{\t\n\t\t\t\t\t\ttoken:localStorage.getItem('access_token'), \n\t\t\t\t\t\tuser_data : user_obj\n\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t\tif(!account.is_email_verified)\n\t\t\t\t\t{\n\t\t\t\t\t\thistory.push('/unverified')\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.log(\"Inside Error\", err);\n\t\t\t\t});\n\t\t\t\t// if(!user_obj.is_active){\n\t\t\t\t// \thistory.push('/logout')\n\t\t\t\t// }\n\t\t\t\t// console.log(user_obj.is_active);\n\t\t}, [path, localStorage.getItem('access_token')]\n\t)\n\t// console.log(appState['user_data'].is_superuser, path);\t\t\n\t\n\n\tconst classes = useStyles();\n\t// let history = useHistory();\n\tconst [data, setData] = useState({ search: '' });\n\t// const [is_admin, setAdmin] =  useState(check_is_admin())\n\n\tconst goSearch = (e) => {\n\t\thistory.push({\n\t\t\tpathname: '/search/',\n\t\t\tsearch: '?search=' + data.search,\n\t\t});\n\t\twindow.location.reload();\n\t};\n\n\tconst goBack = () => {\n\t\thistory.goBack()\n\t}\n\n\t\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<CssBaseline />\n\t\t\t<AppBar\n\t\t\t\tposition=\"static\"\n\t\t\t\tcolor=\"default\"\n\t\t\t\televation={0}\n\t\t\t\tclassName={classes.appBar}\n\t\t\t>\n\t\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t\t<Link\n\t\t\t\t\t\t\tcomponent={NavLink}\n\t\t\t\t\t\t\tto=\"/\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img src={logo} alt=\"Altered Datum Logo\" className={classes.logo}/>\n\t\t\t\t\t</Link>\n\t\t\t\t\t\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\tclassName={classes.toolbarTitle}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* <Link\n\t\t\t\t\t\t\tcomponent={NavLink}\n\t\t\t\t\t\t\tto=\"/\"\n\t\t\t\t\t\t\tunderline=\"none\"\n\t\t\t\t\t\t\tcolor=\"textPrimary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tBlog and Blob\n\t\t\t\t\t\t</Link> */}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tmarginLeft=\"auto\"\n\t\t\t\t\t\tmarginRight=\"auto\"\n\t\t\t\t\t\t// variant=\"outlined\"\n\t\t\t\t\t\tclassName={classes.back}\n\t\t\t\t\t\t// component={NavLink}\n\t\t\t\t\t>\n\t\t\t\t\t\t<h1 className={classes.back}onClick={goBack}> \n\t\t\t\t\t\t\t<ArrowBackIcon />\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t</Button>\n\t\t\t\t\t{appState['token'] && <SearchBar\n\t\t\t\t\t\tvalue={data.search}\n\t\t\t\t\t\tonChange={(newValue) => setData({ search: newValue })}\n\t\t\t\t\t\tonRequestSearch={() => goSearch(data.search)}\n\t\t\t\t\t/>}\n\t\t\t\t\t{/* <Button\n\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tclassName={classes.link}\n\t\t\t\t\t\tcomponent={NavLink}\n\t\t\t\t\t\tto=\"/admin\"\n\t\t\t\t\t>\n\t\t\t\t\t\tAdmin Panel\n\t\t\t\t\t</Button> */}\n\t\t\t\t\t{appState['user_data'].is_superuser &&  \n\t\t\t\t\t\t(<Button\n\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tclassName={classes.link}\n\t\t\t\t\t\tcomponent={NavLink}\n\t\t\t\t\t\tto=\"/admin\"\n\t\t\t\t\t>\n\t\t\t\t\t\tAdmin Panel\n\t\t\t\t\t</Button> )\n\t\t\t\t\t}\n\t\t\t\t\t<Button\n\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tclassName={classes.link}\n\t\t\t\t\t\tcomponent={NavLink}\n\t\t\t\t\t\tto={\"/account/\"}\n\t\t\t\t\t>\n\t\t\t\t\t\tMy Account\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tclassName={classes.link}\n\t\t\t\t\t\tcomponent={NavLink}\n\t\t\t\t\t\tto=\"/logout\"\n\t\t\t\t\t>\n\t\t\t\t\t\tLogout\n\t\t\t\t\t</Button>\n\n\t\t\t\t</Toolbar>\n\t\t\t\t{/* {appState['user_data'].username} */}\n\t\t\t</AppBar>\n\n\t\t\t\n\t\t\t\t\t\t\n\t\t</React.Fragment>\n\t);\n}\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}