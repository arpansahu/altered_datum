{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Route,BrowserRouter as Router,Switch,Redirect,useHistory}from'react-router-dom';import App from'./App';import Footer from'./components/footer';import Register from'./components/auth/register';import Login from'./components/auth/login';import Logout from'./components/auth/logout';import Single from'./components/posts/single';import Search from'./components/posts/search';import Admin from'./Admin';import Create from'./components/admin/create';import Edit from'./components/admin/edit';import Delete from'./components/admin/delete';import Testing from'./components/testing';import Account from'./components/auth/account';import PasswordReset from'./components/auth/passwordupdate';import Activate from'./components/auth/activate';import NotActivated from'./components/auth/notactivated';import ForgetPassword from'./components/auth/forgetpassword';import Reset from'./components/auth/reset';function AppWrapper(){const history=useHistory();const[token_var,setToken_var]=useState(localStorage.getItem('access_token'));useEffect(()=>{setToken_var(localStorage.getItem('access_token'));},[]);// Runs only once when the component mounts\nconst ProtectedRoute=_ref=>{let{component:Component,...rest}=_ref;return/*#__PURE__*/React.createElement(Route,Object.assign({},rest,{render:props=>token_var?/*#__PURE__*/React.createElement(Component,props):/*#__PURE__*/React.createElement(Redirect,{to:{pathname:'/login',state:{from:props.location}}})}));};return/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(React.StrictMode,null,/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(ProtectedRoute,{exact:true,path:\"/\",component:App}),/*#__PURE__*/React.createElement(ProtectedRoute,{exact:true,path:\"/admin\",component:Admin}),/*#__PURE__*/React.createElement(ProtectedRoute,{exact:true,path:\"/admin/create\",component:Create}),/*#__PURE__*/React.createElement(ProtectedRoute,{exact:true,path:\"/admin/edit/:id\",component:Edit}),/*#__PURE__*/React.createElement(ProtectedRoute,{exact:true,path:\"/admin/delete/:id\",component:Delete}),/*#__PURE__*/React.createElement(Route,{path:\"/register\",component:Register}),/*#__PURE__*/React.createElement(Route,{path:\"/login\",component:Login}),/*#__PURE__*/React.createElement(ProtectedRoute,{path:\"/logout\",component:Logout}),/*#__PURE__*/React.createElement(ProtectedRoute,{path:\"/post/:slug\",component:Single}),/*#__PURE__*/React.createElement(ProtectedRoute,{path:\"/search\",component:Search}),/*#__PURE__*/React.createElement(ProtectedRoute,{path:\"/testing\",component:Testing}),/*#__PURE__*/React.createElement(ProtectedRoute,{exact:true,path:\"/account\",component:Account}),/*#__PURE__*/React.createElement(ProtectedRoute,{exact:true,path:\"/account/passwordupdate\",component:PasswordReset}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/activate/:uidb64/:token\",component:Activate}),/*#__PURE__*/React.createElement(ProtectedRoute,{exact:true,path:\"/unverified\",component:NotActivated}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/forget-password\",component:ForgetPassword}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/reset/:uidb64/:token\",component:Reset})),/*#__PURE__*/React.createElement(Footer,null)));}export default AppWrapper;","map":{"version":3,"names":["React","useState","useEffect","Route","BrowserRouter","Router","Switch","Redirect","useHistory","App","Footer","Register","Login","Logout","Single","Search","Admin","Create","Edit","Delete","Testing","Account","PasswordReset","Activate","NotActivated","ForgetPassword","Reset","AppWrapper","history","token_var","setToken_var","localStorage","getItem","ProtectedRoute","_ref","component","Component","rest","createElement","Object","assign","render","props","to","pathname","state","from","location","StrictMode","exact","path"],"sources":["/app/src/AppWrapper.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Route, BrowserRouter as Router, Switch, Redirect, useHistory } from 'react-router-dom';\nimport App from './App';\nimport Footer from './components/footer';\nimport Register from './components/auth/register';\nimport Login from './components/auth/login';\nimport Logout from './components/auth/logout';\nimport Single from './components/posts/single';\nimport Search from './components/posts/search';\nimport Admin from './Admin';\nimport Create from './components/admin/create';\nimport Edit from './components/admin/edit';\nimport Delete from './components/admin/delete';\nimport Testing from './components/testing';\nimport Account from './components/auth/account';\nimport PasswordReset from './components/auth/passwordupdate';\nimport Activate from './components/auth/activate';\nimport NotActivated from './components/auth/notactivated';\nimport ForgetPassword from './components/auth/forgetpassword';\nimport Reset from './components/auth/reset';\n\nfunction AppWrapper() {\n    const history = useHistory();\n    const [token_var, setToken_var] = useState(localStorage.getItem('access_token'));\n\n    useEffect(() => {\n        setToken_var(localStorage.getItem('access_token'));\n    }, []); // Runs only once when the component mounts\n\n    const ProtectedRoute = ({ component: Component, ...rest }) => (\n        <Route \n            {...rest} \n            render={(props) => \n                token_var ? (\n                    <Component {...props} />\n                ) : (\n                    <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\n                )\n            } \n        />\n    );\n\n    return (\n        <Router>\n            <React.StrictMode>\n                <Switch>\n                    <ProtectedRoute exact path=\"/\" component={App} />\n                    <ProtectedRoute exact path=\"/admin\" component={Admin} />\n                    <ProtectedRoute exact path=\"/admin/create\" component={Create} />\n                    <ProtectedRoute exact path=\"/admin/edit/:id\" component={Edit} />\n                    <ProtectedRoute exact path=\"/admin/delete/:id\" component={Delete} />\n                    <Route path=\"/register\" component={Register} />\n                    <Route path=\"/login\" component={Login} />\n                    <ProtectedRoute path=\"/logout\" component={Logout} />\n                    <ProtectedRoute path=\"/post/:slug\" component={Single} />\n                    <ProtectedRoute path=\"/search\" component={Search} />\n                    <ProtectedRoute path=\"/testing\" component={Testing} />\n                    <ProtectedRoute exact path=\"/account\" component={Account} />\n                    <ProtectedRoute exact path=\"/account/passwordupdate\" component={PasswordReset} />\n                    <Route exact path=\"/activate/:uidb64/:token\" component={Activate} />\n                    <ProtectedRoute exact path=\"/unverified\" component={NotActivated} />\n                    <Route exact path=\"/forget-password\" component={ForgetPassword} />\n                    <Route exact path=\"/reset/:uidb64/:token\" component={Reset} />\n                </Switch>\n                <Footer />\n            </React.StrictMode>\n        </Router>\n    );\n}\n\nexport default AppWrapper;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}