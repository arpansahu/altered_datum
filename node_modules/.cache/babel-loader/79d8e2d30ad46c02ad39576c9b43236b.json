{"ast":null,"code":"var _jsxFileName = \"/Users/arpansahu/projects/profile/altered_datum/src/components/auth/logout.js\";\nimport React, { useEffect } from 'react';\nimport axiosInstance from '../../axios';\nimport { useHistory } from 'react-router-dom';\nexport default function Logout() {\n  const history = useHistory();\n  useEffect(() => {\n    const logout = async () => {\n      try {\n        await axiosInstance.post('user/logout/blacklist/', {\n          refresh_token: localStorage.getItem('refresh_token')\n        });\n        localStorage.removeItem('access_token');\n        localStorage.removeItem('refresh_token');\n        axiosInstance.defaults.headers['Authorization'] = null;\n        history.push('/login');\n      } catch (error) {\n        console.error(\"Logout failed\", error); // Optionally handle the error, e.g., notify the user or retry\n      }\n    };\n\n    logout();\n  }, [history]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, \"Logging out...\");\n}","map":{"version":3,"sources":["/Users/arpansahu/projects/profile/altered_datum/src/components/auth/logout.js"],"names":["React","useEffect","axiosInstance","useHistory","Logout","history","logout","post","refresh_token","localStorage","getItem","removeItem","defaults","headers","push","error","console"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,aAAP,MAA0B,aAA1B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAEA,eAAe,SAASC,MAAT,GAAkB;AAChC,QAAMC,OAAO,GAAGF,UAAU,EAA1B;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACf,UAAMK,MAAM,GAAG,YAAY;AAC1B,UAAI;AACH,cAAMJ,aAAa,CAACK,IAAd,CAAmB,wBAAnB,EAA6C;AAClDC,UAAAA,aAAa,EAAEC,YAAY,CAACC,OAAb,CAAqB,eAArB;AADmC,SAA7C,CAAN;AAGAD,QAAAA,YAAY,CAACE,UAAb,CAAwB,cAAxB;AACAF,QAAAA,YAAY,CAACE,UAAb,CAAwB,eAAxB;AACAT,QAAAA,aAAa,CAACU,QAAd,CAAuBC,OAAvB,CAA+B,eAA/B,IAAkD,IAAlD;AACAR,QAAAA,OAAO,CAACS,IAAR,CAAa,QAAb;AACA,OARD,CAQE,OAAOC,KAAP,EAAc;AACfC,QAAAA,OAAO,CAACD,KAAR,CAAc,eAAd,EAA+BA,KAA/B,EADe,CAEf;AACA;AACD,KAbD;;AAeAT,IAAAA,MAAM;AACN,GAjBQ,EAiBN,CAACD,OAAD,CAjBM,CAAT;AAmBA,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAP;AACA","sourcesContent":["import React, { useEffect } from 'react';\nimport axiosInstance from '../../axios';\nimport { useHistory } from 'react-router-dom';\n\nexport default function Logout() {\n\tconst history = useHistory();\n\n\tuseEffect(() => {\n\t\tconst logout = async () => {\n\t\t\ttry {\n\t\t\t\tawait axiosInstance.post('user/logout/blacklist/', {\n\t\t\t\t\trefresh_token: localStorage.getItem('refresh_token'),\n\t\t\t\t});\n\t\t\t\tlocalStorage.removeItem('access_token');\n\t\t\t\tlocalStorage.removeItem('refresh_token');\n\t\t\t\taxiosInstance.defaults.headers['Authorization'] = null;\n\t\t\t\thistory.push('/login');\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Logout failed\", error);\n\t\t\t\t// Optionally handle the error, e.g., notify the user or retry\n\t\t\t}\n\t\t};\n\n\t\tlogout();\n\t}, [history]);\n\n\treturn <div>Logging out...</div>;\n}"]},"metadata":{},"sourceType":"module"}