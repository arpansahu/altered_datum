{"ast":null,"code":"import React,{useState,useEffect}from'react';import axiosInstance from'../../axios';import{useParams}from'react-router-dom';// MaterialUI\nimport CssBaseline from'@material-ui/core/CssBaseline';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import Typography from'@material-ui/core/Typography';import Header from'../header';import CardMedia from\"@material-ui/core/CardMedia\";const useStyles=makeStyles(theme=>({cardMedia:{paddingTop:'56.25%',// 16:9\nmarginBottom:theme.spacing(4)},paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},heroContent:{padding:theme.spacing(4,0,4)}}));export default function Post(){const{slug}=useParams();const classes=useStyles();const[data,setData]=useState({post:null,loading:true,error:null});useEffect(()=>{axiosInstance.get('post/'+slug).then(res=>{setData({post:res.data,loading:false,error:null});}).catch(err=>{setData({post:null,loading:false,error:err});console.error('Error fetching post:',err);});},[slug]);if(data.loading){return/*#__PURE__*/React.createElement(\"p\",null,\"Loading post...\");}if(data.error){return/*#__PURE__*/React.createElement(\"p\",null,\"Something went wrong. Please try again later.\");}if(!data.post){return/*#__PURE__*/React.createElement(\"p\",null,\"Post not found.\");}return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Container,{component:\"main\",maxWidth:\"md\"},/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(\"div\",{className:classes.paper}),/*#__PURE__*/React.createElement(\"div\",{className:classes.heroContent},/*#__PURE__*/React.createElement(Container,{maxWidth:\"sm\"},/*#__PURE__*/React.createElement(CardMedia,{className:classes.cardMedia,image:data.post.image||'https://source.unsplash.com/random',title:data.post.title||'Post image',alt:data.post.title||'Post image'}),/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h2\",align:\"center\",color:\"textPrimary\",gutterBottom:true},data.post.title),/*#__PURE__*/React.createElement(Typography,{variant:\"h5\",align:\"center\",color:\"textSecondary\",paragraph:true},data.post.excerpt),/*#__PURE__*/React.createElement(Typography,{variant:\"body1\",align:\"center\",color:\"textSecondary\",paragraph:true},data.post.content)))));}","map":{"version":3,"names":["React","useState","useEffect","axiosInstance","useParams","CssBaseline","makeStyles","Container","Typography","Header","CardMedia","useStyles","theme","cardMedia","paddingTop","marginBottom","spacing","paper","marginTop","display","flexDirection","alignItems","heroContent","padding","Post","slug","classes","data","setData","post","loading","error","get","then","res","catch","err","console","createElement","className","component","maxWidth","image","title","alt","variant","align","color","gutterBottom","paragraph","excerpt","content"],"sources":["/app/src/components/posts/single.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axiosInstance from '../../axios';\nimport { useParams } from 'react-router-dom';\n// MaterialUI\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Header from '../header';\nimport CardMedia from \"@material-ui/core/CardMedia\";\n\nconst useStyles = makeStyles((theme) => ({\n\tcardMedia: {\n\t\tpaddingTop: '56.25%', // 16:9\n\t\tmarginBottom: theme.spacing(4),\n\t},\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center',\n\t},\n\theroContent: {\n\t\tpadding: theme.spacing(4, 0, 4),\n\t},\n}));\n\nexport default function Post() {\n\tconst { slug } = useParams();\n\tconst classes = useStyles();\n\n\tconst [data, setData] = useState({\n\t\tpost: null,\n\t\tloading: true,\n\t\terror: null,\n\t});\n\n\tuseEffect(() => {\n\t\taxiosInstance.get('post/' + slug)\n\t\t\t.then((res) => {\n\t\t\t\tsetData({\n\t\t\t\t\tpost: res.data,\n\t\t\t\t\tloading: false,\n\t\t\t\t\terror: null,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tsetData({\n\t\t\t\t\tpost: null,\n\t\t\t\t\tloading: false,\n\t\t\t\t\terror: err,\n\t\t\t\t});\n\t\t\t\tconsole.error('Error fetching post:', err);\n\t\t\t});\n\t}, [slug]);\n\n\tif (data.loading) {\n\t\treturn <p>Loading post...</p>;\n\t}\n\n\tif (data.error) {\n\t\treturn <p>Something went wrong. Please try again later.</p>;\n\t}\n\n\tif (!data.post) {\n\t\treturn <p>Post not found.</p>;\n\t}\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Header />\n\t\t\t<Container component=\"main\" maxWidth=\"md\">\n\t\t\t\t<CssBaseline />\n\t\t\t\t<div className={classes.paper}></div>\n\t\t\t\t<div className={classes.heroContent}>\n\t\t\t\t\t<Container maxWidth=\"sm\">\n\t\t\t\t\t\t<CardMedia\n\t\t\t\t\t\t\tclassName={classes.cardMedia}\n\t\t\t\t\t\t\timage={data.post.image || 'https://source.unsplash.com/random'}\n\t\t\t\t\t\t\ttitle={data.post.title || 'Post image'}\n\t\t\t\t\t\t\talt={data.post.title || 'Post image'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tcomponent=\"h1\"\n\t\t\t\t\t\t\tvariant=\"h2\"\n\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\tcolor=\"textPrimary\"\n\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{data.post.title}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant=\"h5\"\n\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\tparagraph\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{data.post.excerpt}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant=\"body1\"\n\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\tparagraph\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{data.post.content}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Container>\n\t\t\t\t</div>\n\t\t\t</Container>\n\t\t</div>\n\t);\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}