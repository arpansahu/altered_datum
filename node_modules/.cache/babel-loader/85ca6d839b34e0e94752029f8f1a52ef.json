{"ast":null,"code":"import React,{useState,useEffect}from'react';import axiosInstance from'../../axios';import{useHistory,useParams}from'react-router-dom';//MaterialUI\nimport Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import Grid from'@material-ui/core/Grid';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import Header from'../header';const useStyles=makeStyles(theme=>({paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(3)},submit:{margin:theme.spacing(3,0,2)}}));export default function Create(){const history=useHistory();const{id}=useParams();const initialFormData=Object.freeze({id:'',title:'',slug:'',excerpt:'',content:''});const[formData,updateFormData]=useState(initialFormData);useEffect(()=>{axiosInstance.get('admin/edit/postdetail/'+id).then(res=>{updateFormData({...formData,['title']:res.data.title,['excerpt']:res.data.excerpt,['slug']:res.data.slug,['content']:res.data.content});// console.log(res.data);\n});},[updateFormData]);const handleChange=e=>{updateFormData({...formData,// Trimming any whitespace\n[e.target.name]:e.target.value.trim()});};const handleSubmit=e=>{e.preventDefault();// console.log(formData);\naxiosInstance.put(`admin/edit/`+id+'/',{title:formData.title,slug:formData.slug,author:1,excerpt:formData.excerpt,content:formData.content}).then(response=>{history.push({pathname:'/admin/'});window.location.reload();}).catch(error=>{console.error('Error editing post:',error);// Handle error, e.g., display an error message to the user\n});};const classes=useStyles();return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Container,{component:\"main\",maxWidth:\"sm\"},/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(\"div\",{className:classes.paper},/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h5\"},\"Edit Post\"),/*#__PURE__*/React.createElement(\"form\",{className:classes.form,noValidate:true},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:2},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"title\",label:\"Post Title\",name:\"title\",autoComplete:\"title\",value:formData.title,onChange:handleChange})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"excerpt\",label:\"Post Excerpt\",name:\"excerpt\",autoComplete:\"excerpt\",value:formData.excerpt,onChange:handleChange,multiline:true,rows:8})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"slug\",label:\"slug\",name:\"slug\",autoComplete:\"slug\",value:formData.slug,onChange:handleChange})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"content\",label:\"content\",name:\"content\",autoComplete:\"content\",value:formData.content,onChange:handleChange,multiline:true,rows:8}))),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,onClick:handleSubmit},\"Update Post\")))));}","map":{"version":3,"names":["React","useState","useEffect","axiosInstance","useHistory","useParams","Button","CssBaseline","TextField","Grid","Typography","makeStyles","Container","Header","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","form","width","submit","margin","Create","history","id","initialFormData","Object","freeze","title","slug","excerpt","content","formData","updateFormData","get","then","res","data","handleChange","e","target","name","value","trim","handleSubmit","preventDefault","put","author","response","push","pathname","window","location","reload","catch","error","console","classes","createElement","className","component","maxWidth","variant","noValidate","container","item","xs","required","fullWidth","label","autoComplete","onChange","multiline","rows","type","color","onClick"],"sources":["/app/src/components/admin/edit.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axiosInstance from '../../axios';\nimport { useHistory, useParams } from 'react-router-dom';\n//MaterialUI\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Header from '../header';\n\nconst useStyles = makeStyles((theme) => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center',\n\t},\n\tform: {\n\t\twidth: '100%', // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing(3),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}));\n\nexport default function Create() {\n\tconst history = useHistory();\n\tconst { id } = useParams();\n\tconst initialFormData = Object.freeze({\n\t\tid: '',\n\t\ttitle: '',\n\t\tslug: '',\n\t\texcerpt: '',\n\t\tcontent: '',\n\t});\n\n\tconst [formData, updateFormData] = useState(initialFormData);\n\n\tuseEffect(() => {\n\t\taxiosInstance.get('admin/edit/postdetail/' + id).then((res) => {\n\t\t\tupdateFormData({\n\t\t\t\t...formData,\n\t\t\t\t['title']: res.data.title,\n\t\t\t\t['excerpt']: res.data.excerpt,\n\t\t\t\t['slug']: res.data.slug,\n\t\t\t\t['content']: res.data.content,\n\t\t\t});\n\t\t\t// console.log(res.data);\n\t\t});\n\t}, [updateFormData]);\n\n\tconst handleChange = (e) => {\n\t\tupdateFormData({\n\t\t\t...formData,\n\t\t\t// Trimming any whitespace\n\t\t\t[e.target.name]: e.target.value.trim(),\n\t\t});\n\t};\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\t// console.log(formData);\n\n\t\taxiosInstance.put(`admin/edit/` + id + '/', {\n\t\t\ttitle: formData.title,\n\t\t\tslug: formData.slug,\n\t\t\tauthor: 1,\n\t\t\texcerpt: formData.excerpt,\n\t\t\tcontent: formData.content,\n\t\t})\n\t\t.then((response) => {\n\t\t\thistory.push({\n\t\t\t\tpathname: '/admin/',\n\t\t\t});\n\t\t\twindow.location.reload();\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error editing post:', error);\n\t\t\t// Handle error, e.g., display an error message to the user\n\t\t});\n\t};\n\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Header />\n\t\t<Container component=\"main\" maxWidth=\"sm\">\n\t\t\t<CssBaseline />\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\tEdit Post\n\t\t\t\t</Typography>\n\t\t\t\t<form className={classes.form} noValidate>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tid=\"title\"\n\t\t\t\t\t\t\t\tlabel=\"Post Title\"\n\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\tautoComplete=\"title\"\n\t\t\t\t\t\t\t\tvalue={formData.title}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tid=\"excerpt\"\n\t\t\t\t\t\t\t\tlabel=\"Post Excerpt\"\n\t\t\t\t\t\t\t\tname=\"excerpt\"\n\t\t\t\t\t\t\t\tautoComplete=\"excerpt\"\n\t\t\t\t\t\t\t\tvalue={formData.excerpt}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\trows={8}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tid=\"slug\"\n\t\t\t\t\t\t\t\tlabel=\"slug\"\n\t\t\t\t\t\t\t\tname=\"slug\"\n\t\t\t\t\t\t\t\tautoComplete=\"slug\"\n\t\t\t\t\t\t\t\tvalue={formData.slug}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tid=\"content\"\n\t\t\t\t\t\t\t\tlabel=\"content\"\n\t\t\t\t\t\t\t\tname=\"content\"\n\t\t\t\t\t\t\t\tautoComplete=\"content\"\n\t\t\t\t\t\t\t\tvalue={formData.content}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\trows={8}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\tUpdate Post\n\t\t\t\t\t</Button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</Container>\n\t\t</div>\n\t);\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,aAAa,KAAM,aAAa,CACvC,OAASC,UAAU,CAAEC,SAAS,KAAQ,kBAAkB,CACxD;AACA,MAAO,CAAAC,MAAM,KAAM,0BAA0B,CAC7C,MAAO,CAAAC,WAAW,KAAM,+BAA+B,CACvD,MAAO,CAAAC,SAAS,KAAM,6BAA6B,CACnD,MAAO,CAAAC,IAAI,KAAM,wBAAwB,CACzC,MAAO,CAAAC,UAAU,KAAM,8BAA8B,CACrD,OAASC,UAAU,KAAQ,0BAA0B,CACrD,MAAO,CAAAC,SAAS,KAAM,6BAA6B,CACnD,MAAO,CAAAC,MAAM,KAAM,WAAW,CAE9B,KAAM,CAAAC,SAAS,CAAGH,UAAU,CAAEI,KAAK,GAAM,CACxCC,KAAK,CAAE,CACNC,SAAS,CAAEF,KAAK,CAACG,OAAO,CAAC,CAAC,CAAC,CAC3BC,OAAO,CAAE,MAAM,CACfC,aAAa,CAAE,QAAQ,CACvBC,UAAU,CAAE,QACb,CAAC,CACDC,IAAI,CAAE,CACLC,KAAK,CAAE,MAAM,CAAE;AACfN,SAAS,CAAEF,KAAK,CAACG,OAAO,CAAC,CAAC,CAC3B,CAAC,CACDM,MAAM,CAAE,CACPC,MAAM,CAAEV,KAAK,CAACG,OAAO,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAC9B,CACD,CAAC,CAAC,CAAC,CAEH,cAAe,SAAS,CAAAQ,MAAMA,CAAA,CAAG,CAChC,KAAM,CAAAC,OAAO,CAAGvB,UAAU,CAAC,CAAC,CAC5B,KAAM,CAAEwB,EAAG,CAAC,CAAGvB,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAwB,eAAe,CAAGC,MAAM,CAACC,MAAM,CAAC,CACrCH,EAAE,CAAE,EAAE,CACNI,KAAK,CAAE,EAAE,CACTC,IAAI,CAAE,EAAE,CACRC,OAAO,CAAE,EAAE,CACXC,OAAO,CAAE,EACV,CAAC,CAAC,CAEF,KAAM,CAACC,QAAQ,CAAEC,cAAc,CAAC,CAAGpC,QAAQ,CAAC4B,eAAe,CAAC,CAE5D3B,SAAS,CAAC,IAAM,CACfC,aAAa,CAACmC,GAAG,CAAC,wBAAwB,CAAGV,EAAE,CAAC,CAACW,IAAI,CAAEC,GAAG,EAAK,CAC9DH,cAAc,CAAC,CACd,GAAGD,QAAQ,CACX,CAAC,OAAO,EAAGI,GAAG,CAACC,IAAI,CAACT,KAAK,CACzB,CAAC,SAAS,EAAGQ,GAAG,CAACC,IAAI,CAACP,OAAO,CAC7B,CAAC,MAAM,EAAGM,GAAG,CAACC,IAAI,CAACR,IAAI,CACvB,CAAC,SAAS,EAAGO,GAAG,CAACC,IAAI,CAACN,OACvB,CAAC,CAAC,CACF;AACD,CAAC,CAAC,CACH,CAAC,CAAE,CAACE,cAAc,CAAC,CAAC,CAEpB,KAAM,CAAAK,YAAY,CAAIC,CAAC,EAAK,CAC3BN,cAAc,CAAC,CACd,GAAGD,QAAQ,CACX;AACA,CAACO,CAAC,CAACC,MAAM,CAACC,IAAI,EAAGF,CAAC,CAACC,MAAM,CAACE,KAAK,CAACC,IAAI,CAAC,CACtC,CAAC,CAAC,CACH,CAAC,CAED,KAAM,CAAAC,YAAY,CAAIL,CAAC,EAAK,CAC3BA,CAAC,CAACM,cAAc,CAAC,CAAC,CAClB;AAEA9C,aAAa,CAAC+C,GAAG,CAAC,aAAa,CAAGtB,EAAE,CAAG,GAAG,CAAE,CAC3CI,KAAK,CAAEI,QAAQ,CAACJ,KAAK,CACrBC,IAAI,CAAEG,QAAQ,CAACH,IAAI,CACnBkB,MAAM,CAAE,CAAC,CACTjB,OAAO,CAAEE,QAAQ,CAACF,OAAO,CACzBC,OAAO,CAAEC,QAAQ,CAACD,OACnB,CAAC,CAAC,CACDI,IAAI,CAAEa,QAAQ,EAAK,CACnBzB,OAAO,CAAC0B,IAAI,CAAC,CACZC,QAAQ,CAAE,SACX,CAAC,CAAC,CACFC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CACzB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,EAAK,CACjBC,OAAO,CAACD,KAAK,CAAC,qBAAqB,CAAEA,KAAK,CAAC,CAC3C;AACD,CAAC,CAAC,CACH,CAAC,CAED,KAAM,CAAAE,OAAO,CAAG/C,SAAS,CAAC,CAAC,CAE3B,mBACCd,KAAA,CAAA8D,aAAA,QAAKC,SAAS,CAAC,KAAK,eACnB/D,KAAA,CAAA8D,aAAA,CAACjD,MAAM,KAAE,CAAC,cACXb,KAAA,CAAA8D,aAAA,CAAClD,SAAS,EAACoD,SAAS,CAAC,MAAM,CAACC,QAAQ,CAAC,IAAI,eACxCjE,KAAA,CAAA8D,aAAA,CAACvD,WAAW,KAAE,CAAC,cACfP,KAAA,CAAA8D,aAAA,QAAKC,SAAS,CAAEF,OAAO,CAAC7C,KAAM,eAC7BhB,KAAA,CAAA8D,aAAA,CAACpD,UAAU,EAACsD,SAAS,CAAC,IAAI,CAACE,OAAO,CAAC,IAAI,EAAC,WAE5B,CAAC,cACblE,KAAA,CAAA8D,aAAA,SAAMC,SAAS,CAAEF,OAAO,CAACvC,IAAK,CAAC6C,UAAU,oBACxCnE,KAAA,CAAA8D,aAAA,CAACrD,IAAI,EAAC2D,SAAS,MAAClD,OAAO,CAAE,CAAE,eAC1BlB,KAAA,CAAA8D,aAAA,CAACrD,IAAI,EAAC4D,IAAI,MAACC,EAAE,CAAE,EAAG,eACjBtE,KAAA,CAAA8D,aAAA,CAACtD,SAAS,EACT0D,OAAO,CAAC,UAAU,CAClBK,QAAQ,MACRC,SAAS,MACT5C,EAAE,CAAC,OAAO,CACV6C,KAAK,CAAC,YAAY,CAClB5B,IAAI,CAAC,OAAO,CACZ6B,YAAY,CAAC,OAAO,CACpB5B,KAAK,CAAEV,QAAQ,CAACJ,KAAM,CACtB2C,QAAQ,CAAEjC,YAAa,CACvB,CACI,CAAC,cACP1C,KAAA,CAAA8D,aAAA,CAACrD,IAAI,EAAC4D,IAAI,MAACC,EAAE,CAAE,EAAG,eACjBtE,KAAA,CAAA8D,aAAA,CAACtD,SAAS,EACT0D,OAAO,CAAC,UAAU,CAClBK,QAAQ,MACRC,SAAS,MACT5C,EAAE,CAAC,SAAS,CACZ6C,KAAK,CAAC,cAAc,CACpB5B,IAAI,CAAC,SAAS,CACd6B,YAAY,CAAC,SAAS,CACtB5B,KAAK,CAAEV,QAAQ,CAACF,OAAQ,CACxByC,QAAQ,CAAEjC,YAAa,CACvBkC,SAAS,MACTC,IAAI,CAAE,CAAE,CACR,CACI,CAAC,cACP7E,KAAA,CAAA8D,aAAA,CAACrD,IAAI,EAAC4D,IAAI,MAACC,EAAE,CAAE,EAAG,eACjBtE,KAAA,CAAA8D,aAAA,CAACtD,SAAS,EACT0D,OAAO,CAAC,UAAU,CAClBK,QAAQ,MACRC,SAAS,MACT5C,EAAE,CAAC,MAAM,CACT6C,KAAK,CAAC,MAAM,CACZ5B,IAAI,CAAC,MAAM,CACX6B,YAAY,CAAC,MAAM,CACnB5B,KAAK,CAAEV,QAAQ,CAACH,IAAK,CACrB0C,QAAQ,CAAEjC,YAAa,CACvB,CACI,CAAC,cACP1C,KAAA,CAAA8D,aAAA,CAACrD,IAAI,EAAC4D,IAAI,MAACC,EAAE,CAAE,EAAG,eACjBtE,KAAA,CAAA8D,aAAA,CAACtD,SAAS,EACT0D,OAAO,CAAC,UAAU,CAClBK,QAAQ,MACRC,SAAS,MACT5C,EAAE,CAAC,SAAS,CACZ6C,KAAK,CAAC,SAAS,CACf5B,IAAI,CAAC,SAAS,CACd6B,YAAY,CAAC,SAAS,CACtB5B,KAAK,CAAEV,QAAQ,CAACD,OAAQ,CACxBwC,QAAQ,CAAEjC,YAAa,CACvBkC,SAAS,MACTC,IAAI,CAAE,CAAE,CACR,CACI,CACD,CAAC,cACP7E,KAAA,CAAA8D,aAAA,CAACxD,MAAM,EACNwE,IAAI,CAAC,QAAQ,CACbN,SAAS,MACTN,OAAO,CAAC,WAAW,CACnBa,KAAK,CAAC,SAAS,CACfhB,SAAS,CAAEF,OAAO,CAACrC,MAAO,CAC1BwD,OAAO,CAAEhC,YAAa,EACtB,aAEO,CACH,CACF,CACK,CACN,CAAC,CAER","ignoreList":[]},"metadata":{},"sourceType":"module"}