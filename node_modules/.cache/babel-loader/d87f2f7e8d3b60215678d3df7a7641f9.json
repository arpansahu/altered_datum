{"ast":null,"code":"var _jsxFileName = \"/Users/arpansahu/projects/profile/altered_datum/src/components/posts/search.js\";\nimport React, { useState, useEffect } from 'react';\nimport axiosInstance from '../../axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Link from '@material-ui/core/Link';\nconst useStyles = makeStyles(theme => ({\n  cardMedia: {\n    paddingTop: '56.25%' // 16:9\n\n  },\n  link: {\n    margin: theme.spacing(1, 1.5),\n    textDecoration: 'none'\n  },\n  cardHeader: {\n    backgroundColor: theme.palette.type === 'light' ? theme.palette.grey[200] : theme.palette.grey[700]\n  },\n  postTitle: {\n    fontSize: '16px',\n    textAlign: 'left'\n  },\n  postText: {\n    display: 'flex',\n    justifyContent: 'left',\n    alignItems: 'baseline',\n    fontSize: '12px',\n    textAlign: 'left',\n    marginBottom: theme.spacing(2)\n  },\n  card: {\n    padding: theme.spacing(2)\n  }\n}));\n\nconst Search = () => {\n  const classes = useStyles();\n  const [appState, setAppState] = useState({\n    posts: [],\n    loading: true,\n    error: null\n  });\n  useEffect(() => {\n    axiosInstance.get('search/' + window.location.search).then(res => {\n      const allPosts = res.data;\n      setAppState({\n        posts: allPosts,\n        loading: false\n      });\n    }).catch(err => {\n      setAppState({\n        posts: [],\n        loading: false,\n        error: err\n      });\n      console.error('Error fetching posts:', err);\n    });\n  }, []);\n\n  if (appState.loading) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 10\n      }\n    }, \"Loading posts...\");\n  }\n\n  if (appState.error) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 10\n      }\n    }, \"Something went wrong. Please try again later.\");\n  }\n\n  if (appState.posts.length === 0) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 10\n      }\n    }, \"No posts found for your search query.\");\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    maxWidth: \"md\",\n    component: \"main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 5,\n    alignItems: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 4\n    }\n  }, appState.posts.map(post => /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    key: post.id,\n    xs: 12,\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: classes.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    color: \"textPrimary\",\n    href: `/post/${post.slug}`,\n    className: classes.link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(CardMedia, {\n    className: classes.cardMedia,\n    image: post.image || 'https://source.unsplash.com/random',\n    title: post.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(CardContent, {\n    className: classes.cardContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    gutterBottom: true,\n    variant: \"h6\",\n    component: \"h2\",\n    className: classes.postTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, post.title.length > 50 ? `${post.title.substr(0, 50)}...` : post.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.postText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    color: \"textSecondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 10\n    }\n  }, post.excerpt.length > 40 ? `${post.excerpt.substr(0, 40)}...` : post.excerpt))))))));\n};\n\nexport default Search;","map":{"version":3,"sources":["/Users/arpansahu/projects/profile/altered_datum/src/components/posts/search.js"],"names":["React","useState","useEffect","axiosInstance","makeStyles","Card","CardContent","CardMedia","Grid","Typography","Container","Link","useStyles","theme","cardMedia","paddingTop","link","margin","spacing","textDecoration","cardHeader","backgroundColor","palette","type","grey","postTitle","fontSize","textAlign","postText","display","justifyContent","alignItems","marginBottom","card","padding","Search","classes","appState","setAppState","posts","loading","error","get","window","location","search","then","res","allPosts","data","catch","err","console","length","map","post","id","slug","image","title","cardContent","substr","excerpt"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axiosInstance from '../../axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Link from '@material-ui/core/Link';\n\nconst useStyles = makeStyles((theme) => ({\n\tcardMedia: {\n\t\tpaddingTop: '56.25%', // 16:9\n\t},\n\tlink: {\n\t\tmargin: theme.spacing(1, 1.5),\n\t\ttextDecoration: 'none',\n\t},\n\tcardHeader: {\n\t\tbackgroundColor:\n\t\t\ttheme.palette.type === 'light'\n\t\t\t\t? theme.palette.grey[200]\n\t\t\t\t: theme.palette.grey[700],\n\t},\n\tpostTitle: {\n\t\tfontSize: '16px',\n\t\ttextAlign: 'left',\n\t},\n\tpostText: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'left',\n\t\talignItems: 'baseline',\n\t\tfontSize: '12px',\n\t\ttextAlign: 'left',\n\t\tmarginBottom: theme.spacing(2),\n\t},\n\tcard: {\n\t\tpadding: theme.spacing(2),\n\t},\n}));\n\nconst Search = () => {\n\tconst classes = useStyles();\n\tconst [appState, setAppState] = useState({\n\t\tposts: [],\n\t\tloading: true,\n\t\terror: null,\n\t});\n\n\tuseEffect(() => {\n\t\taxiosInstance\n\t\t\t.get('search/' + window.location.search)\n\t\t\t.then((res) => {\n\t\t\t\tconst allPosts = res.data;\n\t\t\t\tsetAppState({ posts: allPosts, loading: false });\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tsetAppState({ posts: [], loading: false, error: err });\n\t\t\t\tconsole.error('Error fetching posts:', err);\n\t\t\t});\n\t}, []);\n\n\tif (appState.loading) {\n\t\treturn <p>Loading posts...</p>;\n\t}\n\n\tif (appState.error) {\n\t\treturn <p>Something went wrong. Please try again later.</p>;\n\t}\n\n\tif (appState.posts.length === 0) {\n\t\treturn <p>No posts found for your search query.</p>;\n\t}\n\n\treturn (\n\t\t<Container maxWidth=\"md\" component=\"main\">\n\t\t\t<Grid container spacing={5} alignItems=\"flex-end\">\n\t\t\t\t{appState.posts.map((post) => (\n\t\t\t\t\t<Grid item key={post.id} xs={12} md={4}>\n\t\t\t\t\t\t<Card className={classes.card}>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tcolor=\"textPrimary\"\n\t\t\t\t\t\t\t\thref={`/post/${post.slug}`}\n\t\t\t\t\t\t\t\tclassName={classes.link}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CardMedia\n\t\t\t\t\t\t\t\t\tclassName={classes.cardMedia}\n\t\t\t\t\t\t\t\t\timage={post.image || 'https://source.unsplash.com/random'}\n\t\t\t\t\t\t\t\t\ttitle={post.title}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<CardContent className={classes.cardContent}>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\t\t\t\tcomponent=\"h2\"\n\t\t\t\t\t\t\t\t\tclassName={classes.postTitle}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{post.title.length > 50 ? `${post.title.substr(0, 50)}...` : post.title}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<div className={classes.postText}>\n\t\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\t{post.excerpt.length > 40\n\t\t\t\t\t\t\t\t\t\t\t? `${post.excerpt.substr(0, 40)}...`\n\t\t\t\t\t\t\t\t\t\t\t: post.excerpt}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Grid>\n\t\t\t\t))}\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n};\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}