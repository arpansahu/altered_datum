{"ast":null,"code":"import _slicedToArray from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Header from'./header';import HeaderForGuest from'./headerforguest';import AppBar from'@material-ui/core/AppBar';import Toolbar from'@material-ui/core/Toolbar';import Typography from'@material-ui/core/Typography';import CssBaseline from'@material-ui/core/CssBaseline';import{makeStyles,withTheme}from'@material-ui/core/styles';import{NavLink}from'react-router-dom';import Link from'@material-ui/core/Link';import Button from'@material-ui/core/Button';import logo from'../logo.png';import axiosInstance from'../axios';var useStyles=makeStyles(function(theme){return{appBar:{// borderBottom: `px solid ${theme.palette.divider}`,\ncolor:'white'},link:{margin:theme.spacing(1,1.5)},toolbarTitle:{flexGrow:1},toolbar:{minHeight:'100px'},logo:{maxWidth:80,maxHeight:80,borderRadius:10,flexGrow:1}};});function HeaderWrapper(){function refreshPage(){window.location.reload(false);}var classes=useStyles();var _useState=useState(localStorage.getItem('access_token')),_useState2=_slicedToArray(_useState,2),token_var=_useState2[0],setToken_var=_useState2[1];var useReactPath=function useReactPath(){var _React$useState=React.useState(window.location.pathname),_React$useState2=_slicedToArray(_React$useState,2),path=_React$useState2[0],setPath=_React$useState2[1];var listenToPopstate=function listenToPopstate(){var winPath=window.location.pathname;setPath(winPath);};React.useEffect(function(){window.addEventListener(\"popstate\",listenToPopstate);return function(){window.removeEventListener(\"popstate\",listenToPopstate);};},[]);return path;};var path=useReactPath();useEffect(function(){setToken_var(localStorage.getItem('access_token'));// console.log(token_var);\n// refreshPage();\n},[]);if(token_var)return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(AppBar,{position:\"static\",color:\"default\",elevation:0,className:classes.appBar},/*#__PURE__*/React.createElement(Toolbar,{className:classes.toolbar},/*#__PURE__*/React.createElement(Link,{component:NavLink,to:\"/\"},/*#__PURE__*/React.createElement(\"img\",{src:logo,alt:\"Altered Datum Logo\",className:classes.logo})),/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",noWrap:true,className:classes.toolbarTitle}),/*#__PURE__*/React.createElement(Button,{href:\"#\",color:\"primary\",variant:\"outlined\",className:classes.link,component:NavLink,to:\"/logout\"},\"LogOut\"))));else{return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(AppBar,{position:\"static\",color:\"default\",elevation:0,className:classes.appBar},/*#__PURE__*/React.createElement(Toolbar,{className:classes.toolbar},/*#__PURE__*/React.createElement(Link,{component:NavLink,to:\"/\"},/*#__PURE__*/React.createElement(\"img\",{src:logo,alt:\"Altered Datum Logo\",className:classes.logo})),/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",noWrap:true,className:classes.toolbarTitle}),/*#__PURE__*/React.createElement(Button,{href:\"#\",color:\"primary\",variant:\"outlined\",className:classes.link,component:NavLink,to:\"/login\"},\"Login\"))));}}export default HeaderWrapper;","map":{"version":3,"sources":["/app/src/components/headerwrapper.js"],"names":["React","useState","useEffect","Header","HeaderForGuest","AppBar","Toolbar","Typography","CssBaseline","makeStyles","withTheme","NavLink","Link","Button","logo","axiosInstance","useStyles","theme","appBar","color","link","margin","spacing","toolbarTitle","flexGrow","toolbar","minHeight","maxWidth","maxHeight","borderRadius","HeaderWrapper","refreshPage","window","location","reload","classes","localStorage","getItem","token_var","setToken_var","useReactPath","pathname","path","setPath","listenToPopstate","winPath","addEventListener","removeEventListener"],"mappings":"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","sourcesContent":["import React, {useState,useEffect} from 'react'\nimport Header from './header'\nimport HeaderForGuest from './headerforguest'\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { makeStyles, withTheme } from '@material-ui/core/styles';\nimport { NavLink } from 'react-router-dom';\nimport Link from '@material-ui/core/Link';\nimport Button from '@material-ui/core/Button';\nimport logo from '../logo.png'\nimport axiosInstance from '../axios';\n\nconst useStyles = makeStyles((theme) => ({\n    appBar: {\n        // borderBottom: `px solid ${theme.palette.divider}`,\n        color: 'white'\n    },\n    link: {\n        margin: theme.spacing(1, 1.5),\n    },\n    toolbarTitle: {\n        flexGrow: 1,\n    },\n    toolbar: {\n        minHeight: '100px',\n    },\n    logo: {\n        maxWidth: 80,\n        maxHeight: 80,\n        borderRadius: 10,\n        flexGrow: 1,\n    },\n    \n}));\n\nfunction HeaderWrapper() {\n    function refreshPage() {\n        window.location.reload(false);\n    }\n\n    const classes = useStyles();\n    const [token_var, setToken_var] = useState(localStorage.getItem('access_token'));\n\n    const useReactPath = () => {\n        const [path, setPath] = React.useState(window.location.pathname);\n        const listenToPopstate = () => {\n            const winPath = window.location.pathname;\n            setPath(winPath);\n        };\n        React.useEffect(() => {\n            window.addEventListener(\"popstate\", listenToPopstate);\n            return () => {\n            window.removeEventListener(\"popstate\", listenToPopstate);\n            };\n        }, []);\n        return path;\n    };\n    const path = useReactPath();\n        \n    useEffect(() => {\n        setToken_var(localStorage.getItem('access_token'))\n        // console.log(token_var);\n        // refreshPage();\n    },[]);\n\n    if(token_var)\n    return (\n        \n            <React.Fragment>\n\t\t\t<CssBaseline />\n\t\t\t<AppBar\n\t\t\t\tposition=\"static\"\n\t\t\t\tcolor=\"default\"\n\t\t\t\televation={0}\n\t\t\t\tclassName={classes.appBar}\n\t\t\t>\n\t\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t\t<Link\n\t\t\t\t\t\t\tcomponent={NavLink}\n\t\t\t\t\t\t\tto=\"/\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img src={logo} alt=\"Altered Datum Logo\" className={classes.logo}/>\n\t\t\t\t\t</Link>\n\t\t\t\t\t\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\tclassName={classes.toolbarTitle}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* <Link\n\t\t\t\t\t\t\tcomponent={NavLink}\n\t\t\t\t\t\t\tto=\"/\"\n\t\t\t\t\t\t\tunderline=\"none\"\n\t\t\t\t\t\t\tcolor=\"textPrimary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tBlog and Blob\n\t\t\t\t\t\t</Link> */}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tclassName={classes.link}\n\t\t\t\t\t\tcomponent={NavLink}\n\t\t\t\t\t\tto=\"/logout\"\n\t\t\t\t\t>\n\t\t\t\t\t\tLogOut\n\t\t\t\t\t</Button>\n\n\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t</React.Fragment>\n        \n    )\n    else{\n        return (\n            <React.Fragment>\n\t\t\t<CssBaseline />\n\t\t\t<AppBar\n\t\t\t\tposition=\"static\"\n\t\t\t\tcolor=\"default\"\n\t\t\t\televation={0}\n\t\t\t\tclassName={classes.appBar}\n\t\t\t>\n\t\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t\t<Link\n\t\t\t\t\t\t\tcomponent={NavLink}\n\t\t\t\t\t\t\tto=\"/\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img src={logo} alt=\"Altered Datum Logo\" className={classes.logo}/>\n\t\t\t\t\t</Link>\n\t\t\t\t\t\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\tclassName={classes.toolbarTitle}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* <Link\n\t\t\t\t\t\t\tcomponent={NavLink}\n\t\t\t\t\t\t\tto=\"/\"\n\t\t\t\t\t\t\tunderline=\"none\"\n\t\t\t\t\t\t\tcolor=\"textPrimary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tBlog and Blob\n\t\t\t\t\t\t</Link> */}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tclassName={classes.link}\n\t\t\t\t\t\tcomponent={NavLink}\n\t\t\t\t\t\tto=\"/login\"\n\t\t\t\t\t>\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</Button>\n\n\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t</React.Fragment>\n        )\n    }\n\n}\n\nexport default HeaderWrapper\n"]},"metadata":{},"sourceType":"module"}