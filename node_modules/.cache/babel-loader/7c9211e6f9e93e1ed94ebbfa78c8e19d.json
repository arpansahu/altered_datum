{"ast":null,"code":"import _defineProperty from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,setState}from'react';import axiosInstance from'../../axios';import{useHistory,useParams}from'react-router-dom';//MaterialUI\nimport Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';import FormControlLabel from'@material-ui/core/FormControlLabel';import Checkbox from'@material-ui/core/Checkbox';import Link from'@material-ui/core/Link';import Grid from'@material-ui/core/Grid';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import HeaderForGuest from'../headerforguest';import{ValidatorForm,TextValidator}from'react-material-ui-form-validator';import VisibilityOffTwoToneIcon from\"@material-ui/icons/VisibilityOffTwoTone\";import VisibilityTwoToneIcon from\"@material-ui/icons/VisibilityTwoTone\";import InputAdornment from'@material-ui/core/InputAdornment';import Snackbar from\"@material-ui/core/Snackbar\";import SnackbarContent from\"@material-ui/core/SnackbarContent\";import IconButton from\"@material-ui/core/IconButton\";import ErrorIcon from\"@material-ui/icons/Error\";import CloseIcon from\"@material-ui/icons/Close\";import CheckCircleOutlineIcon from'@material-ui/icons/CheckCircleOutline';var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(3)},submit:{margin:theme.spacing(3,0,2)},passwordEye:{color:\"rgba(131,153,167,0.9)\",opacity:0.7}};});export default function SignUp(){var history=useHistory();var _useParams=useParams(),uidb64=_useParams.uidb64,token=_useParams.token;var initialFormData=Object.freeze({password:'',password_two:''});var _useState=useState(initialFormData),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],updateFormData=_useState2[1];var handleChange=function handleChange(e){updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var _useState3=useState({errorOpen:false,error:\"\"}),_useState4=_slicedToArray(_useState3,2),passwordsMatch=_useState4[0],updatePasswordsMatch=_useState4[1];var errorClose=function errorClose(e){updatePasswordsMatch({errorOpen:false,error:\"\"});};var _useState5=useState({messageOpen:false,data:\"\"}),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],updateMessage=_useState6[1];var messageClose=function messageClose(e){updateMessage({messageOpen:false,data:\"\"});};var strongRegex=new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,20})\");var handleSubmit=function handleSubmit(e){e.preventDefault();// console.log(formData);\nif(formData.password==formData.password_two&&strongRegex.test(formData.password)&&strongRegex.test(formData.password_two)){updatePasswordsMatch({errorOpen:false,error:\"\"});axiosInstance.post(\"user/account/resetpassword/\",{uidb64:uidb64,token:token,password1:formData.password,password2:formData.password_two}).then(function(res){updateMessage({messageOpen:true,data:\"Passsword reset Successfully\"});}).catch(function(error){if(error.response){// console.log(error.response.data);\n// console.log(error.response.status);\n// console.log(error.response.headers);\nif(error.response.status==400){updatePasswordsMatch({errorOpen:true,error:\"Resent link expired or already used\"});}if(error.response.status==206){updatePasswordsMatch({errorOpen:true,error:\"Password do not match\"});}}});}else if(formData.password!=formData.password_two){updatePasswordsMatch({errorOpen:true,error:\"Both passwords should be same\"});}};var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),hidePassword=_useState8[0],setHidePassword=_useState8[1];var showPassword=function showPassword(){// console.log(\"show passsword\", + hidePassword)\nsetHidePassword(!hidePassword);// console.log(\"After show passsword\", + hidePassword)\n};var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),hidePassword_two=_useState10[0],setHidePassword_Two=_useState10[1];var showPassword_two=function showPassword_two(){// console.log(\"show passsword\", + hidePassword_two)\nsetHidePassword_Two(!hidePassword_two);// console.log(\"After show passsword\", + hidePassword_two)\n};var classes=useStyles();return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(HeaderForGuest,null),/*#__PURE__*/React.createElement(Container,{component:\"main\",maxWidth:\"xs\"},/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(\"div\",{className:classes.paper,style:{whiteSpace:\"pre-line\"}},/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h5\"},\"Reset Password\"),/*#__PURE__*/React.createElement(ValidatorForm,{className:classes.form,noValidate:true},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:2},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(TextValidator,{type:hidePassword?\"password\":\"input\",InputProps:hidePassword?{endAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"end\"},/*#__PURE__*/React.createElement(VisibilityOffTwoToneIcon,{fontSize:\"default\",className:classes.passwordEye,onClick:showPassword}))}:{endAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"end\"},/*#__PURE__*/React.createElement(VisibilityTwoToneIcon,{fontSize:\"default\",className:classes.passwordEye,onClick:showPassword}))},variant:\"outlined\",required:true,fullWidth:true,name:\"password\",label:\"Password\",id:\"password\",autoComplete:\"current-password\",onChange:handleChange,value:formData.password,validators:['required','matchRegexp:^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,20})'],errorMessages:['this field is required',\"The password must contain at least 1 lowercase alphabetical character\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tThe password must contain at least 1 uppercase alphabetical character \\n\\t\\t\\t\\t\\t\\t\\t\\t\\tThe password must contain at least 1 numeric character\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tThe string must contain at least one special character\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tpassword length  should be 8-20\"]})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(TextValidator,{type:hidePassword_two?\"password\":\"input\",InputProps:hidePassword_two?{endAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"end\"},/*#__PURE__*/React.createElement(VisibilityOffTwoToneIcon,{fontSize:\"default\",className:classes.passwordEye,onClick:showPassword_two}))}:{endAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"end\"},/*#__PURE__*/React.createElement(VisibilityTwoToneIcon,{fontSize:\"default\",className:classes.passwordEye,onClick:showPassword_two}))},variant:\"outlined\",required:true,fullWidth:true,marginTop:\"10\",name:\"password_two\",label:\"Confirm Password\",id:\"password_two\",autoComplete:\"current-password\",onChange:handleChange,value:formData.password_two,validators:['required','matchRegexp:^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,20})'],errorMessages:['this field is required',\"The password must contain at least 1 lowercase alphabetical character\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tThe password must contain at least 1 uppercase alphabetical character \\n\\t\\t\\t\\t\\t\\t\\t\\t\\tThe password must contain at least 1 numeric character\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tThe string must contain at least one special character\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tpassword length  should be 8-20\"]})),passwordsMatch.error?/*#__PURE__*/React.createElement(Snackbar,{variant:\"error\",key:passwordsMatch.error,anchorOrigin:{vertical:\"bottom\",horizontal:\"center\"},open:passwordsMatch.errorOpen,onClose:errorClose,autoHideDuration:3000},/*#__PURE__*/React.createElement(SnackbarContent,{className:classes.error,message:/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{style:{marginRight:\"8px\"}},/*#__PURE__*/React.createElement(ErrorIcon,{fontSize:\"large\",color:\"error\"})),/*#__PURE__*/React.createElement(\"span\",null,\" \",passwordsMatch.error,\" \")),action:[/*#__PURE__*/React.createElement(IconButton,{key:\"close\",\"aria-label\":\"close\",onClick:errorClose},/*#__PURE__*/React.createElement(CloseIcon,{color:\"error\"}))]})):null,message.data?/*#__PURE__*/React.createElement(Snackbar,{variant:\"success\",severity:\"success\",key:message.data,anchorOrigin:{vertical:\"bottom\",horizontal:\"center\"},open:message.messageOpen,onClose:messageClose,autoHideDuration:3000},/*#__PURE__*/React.createElement(SnackbarContent,{className:classes.success,message:/*#__PURE__*/React.createElement(\"div\",{style:{color:\"green\"}},/*#__PURE__*/React.createElement(\"span\",{style:{marginRight:\"8px\"}},/*#__PURE__*/React.createElement(CheckCircleOutlineIcon,{fontSize:\"large\"})),/*#__PURE__*/React.createElement(\"span\",null,\" \",message.data,\" \")),action:[/*#__PURE__*/React.createElement(IconButton,{key:\"close\",\"aria-label\":\"close\",onClick:messageClose},/*#__PURE__*/React.createElement(CloseIcon,{style:{color:\"green\"}}))]})):null),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",name:\"submit\",className:classes.submit,onClick:handleSubmit},\"Reset Password\")))));}","map":{"version":3,"sources":["/app/src/components/auth/reset.js"],"names":["React","useState","setState","axiosInstance","useHistory","useParams","Button","CssBaseline","FormControlLabel","Checkbox","Link","Grid","Typography","makeStyles","Container","HeaderForGuest","ValidatorForm","TextValidator","VisibilityOffTwoToneIcon","VisibilityTwoToneIcon","InputAdornment","Snackbar","SnackbarContent","IconButton","ErrorIcon","CloseIcon","CheckCircleOutlineIcon","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","passwordEye","color","opacity","SignUp","history","uidb64","token","initialFormData","Object","freeze","password","password_two","formData","updateFormData","handleChange","e","target","name","value","errorOpen","error","passwordsMatch","updatePasswordsMatch","errorClose","messageOpen","data","message","updateMessage","messageClose","strongRegex","RegExp","handleSubmit","preventDefault","test","post","password1","password2","then","res","catch","response","status","hidePassword","setHidePassword","showPassword","hidePassword_two","setHidePassword_Two","showPassword_two","classes","whiteSpace","endAdornment","vertical","horizontal","marginRight","success"],"mappings":"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","sourcesContent":["import React, { useState, setState } from 'react';\nimport axiosInstance from '../../axios';\nimport { useHistory, useParams } from 'react-router-dom';\n//MaterialUI\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport HeaderForGuest from '../headerforguest';\nimport { ValidatorForm,TextValidator } from 'react-material-ui-form-validator';\nimport VisibilityOffTwoToneIcon from \"@material-ui/icons/VisibilityOffTwoTone\";\nimport VisibilityTwoToneIcon from \"@material-ui/icons/VisibilityTwoTone\";\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\nconst useStyles = makeStyles((theme) => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center',\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: '100%', // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing(3),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n\tpasswordEye: {\n\t\tcolor: \"rgba(131,153,167,0.9)\",\n\t\topacity: 0.7\n\t},\n\n}));\n\nexport default function SignUp() {\n\tconst history = useHistory();\n\tconst {uidb64,token} = useParams();\n\n\tconst initialFormData = Object.freeze({\n\t\tpassword: '',\n\t\tpassword_two: '',\n\t});\n\n\tconst [formData, updateFormData] = useState(initialFormData);\n\n\tconst handleChange = (e) => {\n\t\tupdateFormData({\n\t\t\t...formData,\n\t\t\t// Trimming any whitespace\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t};\n\tconst [passwordsMatch, updatePasswordsMatch] = useState({errorOpen: false,error: \"\"});\n\n\tconst errorClose = e => {\n\t\tupdatePasswordsMatch({errorOpen: false,error: \"\"});\n\t};\n\tconst [message, updateMessage] = useState({messageOpen: false, data :\"\"})\n\n\n\tconst messageClose = e => {\n\t\tupdateMessage({messageOpen: false, data:\"\"});\n\t}\n\tconst strongRegex = new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,20})\");\n\t\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\t// console.log(formData);\n\n\t\tif(formData.password == formData.password_two && strongRegex.test(formData.password) && strongRegex.test(formData.password_two))\n\t\t{\n\t\t\tupdatePasswordsMatch({errorOpen: false,error: \"\"});\n\t\t\taxiosInstance\n\t\t\t.post(`user/account/resetpassword/`, {\n\t\t\t\tuidb64: uidb64,\n\t\t\t\ttoken:token,\n\t\t\t\tpassword1: formData.password,\n\t\t\t\tpassword2: formData.password_two\n\t\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tupdateMessage({messageOpen:true, data:\"Passsword reset Successfully\"})\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tif (error.response) {\n\t\t\t\t\t// console.log(error.response.data);\n\t\t\t\t\t// console.log(error.response.status);\n\t\t\t\t\t// console.log(error.response.headers);\n\t\t\t\t\tif(error.response.status == 400){\n\t\t\t\t\tupdatePasswordsMatch({errorOpen: true,error: \"Resent link expired or already used\"});\n\t\t\t\t\t}\n\t\t\t\t\tif(error.response.status == 206){\n\t\t\t\t\t\tupdatePasswordsMatch({errorOpen: true,error: \"Password do not match\"});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t\telse if(formData.password != formData.password_two){\n\t\t\tupdatePasswordsMatch({errorOpen: true,error: \"Both passwords should be same\"});\n\t\t}\n\t};\n\n\tconst [hidePassword, setHidePassword] = useState(true);\n\tconst showPassword = () => {\n\t\t// console.log(\"show passsword\", + hidePassword)\n\t\tsetHidePassword(!hidePassword );\n\t\t// console.log(\"After show passsword\", + hidePassword)\n\t};\n\n\tconst [hidePassword_two, setHidePassword_Two] = useState(true);\n\tconst showPassword_two = () => {\n\t\t// console.log(\"show passsword\", + hidePassword_two)\n\t\tsetHidePassword_Two(!hidePassword_two );\n\t\t// console.log(\"After show passsword\", + hidePassword_two)\n\t};\n\n\t\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<HeaderForGuest />\n\t\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<CssBaseline />\n\t\t\t<div className={classes.paper} style={{whiteSpace:\"pre-line\"}}>\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\tReset Password\n\t\t\t\t</Typography>\n\t\t\t\t<ValidatorForm className={classes.form} noValidate>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t{/* <TextField\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t\t<TextValidator\n\t\t\t\t\t\t\t\ttype={hidePassword ? \"password\" : \"input\"}\n\t\t\t\t\t\t\t\tInputProps={hidePassword ? { \n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t<VisibilityOffTwoToneIcon\n\t\t\t\t\t\t\t\t\t\t\tfontSize=\"default\"\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.passwordEye}\n\t\t\t\t\t\t\t\t\t\t\tonClick={showPassword}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t  \t\t} : {\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t<VisibilityTwoToneIcon\n\t\t\t\t\t\t\t\t\t\t\tfontSize=\"default\"\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.passwordEye}\n\t\t\t\t\t\t\t\t\t\t\tonClick={showPassword}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tvalue={formData.password}\n\t\t\t\t\t\t\t\tvalidators={['required' , 'matchRegexp:^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,20})']\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terrorMessages={[\n\t\t\t\t\t\t\t\t\t'this field is required',\n\t\t\t\t\t\t\t\t\t`The password must contain at least 1 lowercase alphabetical character\n\t\t\t\t\t\t\t\t\tThe password must contain at least 1 uppercase alphabetical character \n\t\t\t\t\t\t\t\t\tThe password must contain at least 1 numeric character\n\t\t\t\t\t\t\t\t\tThe string must contain at least one special character\n\t\t\t\t\t\t\t\t\tpassword length  should be 8-20` ,\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<TextValidator\n\t\t\t\t\t\t\t\ttype={hidePassword_two ? \"password\" : \"input\"}\n\t\t\t\t\t\t\t\tInputProps={hidePassword_two ? { \n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t<VisibilityOffTwoToneIcon\n\t\t\t\t\t\t\t\t\t\t\tfontSize=\"default\"\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.passwordEye}\n\t\t\t\t\t\t\t\t\t\t\tonClick={showPassword_two}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t  \t\t} : {\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t<VisibilityTwoToneIcon\n\t\t\t\t\t\t\t\t\t\t\tfontSize=\"default\"\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.passwordEye}\n\t\t\t\t\t\t\t\t\t\t\tonClick={showPassword_two}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tmarginTop=\"10\"\n\t\t\t\t\t\t\t\tname=\"password_two\"\n\t\t\t\t\t\t\t\tlabel=\"Confirm Password\"\n\t\t\t\t\t\t\t\tid=\"password_two\"\n\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tvalue={formData.password_two}\n\t\t\t\t\t\t\t\tvalidators={['required' , 'matchRegexp:^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,20})']\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terrorMessages={[\n\t\t\t\t\t\t\t\t\t'this field is required',\n\t\t\t\t\t\t\t\t\t`The password must contain at least 1 lowercase alphabetical character\n\t\t\t\t\t\t\t\t\tThe password must contain at least 1 uppercase alphabetical character \n\t\t\t\t\t\t\t\t\tThe password must contain at least 1 numeric character\n\t\t\t\t\t\t\t\t\tThe string must contain at least one special character\n\t\t\t\t\t\t\t\t\tpassword length  should be 8-20` ,\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{passwordsMatch.error ? (\n\t\t\t\t\t\t\t<Snackbar\n\t\t\t\t\t\t\tvariant=\"error\"\n\t\t\t\t\t\t\tkey={passwordsMatch.error}\n\t\t\t\t\t\t\tanchorOrigin={{\n\t\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\t\thorizontal: \"center\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\topen={passwordsMatch.errorOpen}\n\t\t\t\t\t\t\tonClose={errorClose}\n\t\t\t\t\t\t\tautoHideDuration={3000}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<SnackbarContent\n\t\t\t\t\t\t\t\tclassName={classes.error}\n\t\t\t\t\t\t\t\tmessage={\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span style={{ marginRight: \"8px\" }}>\n\t\t\t\t\t\t\t\t\t<ErrorIcon fontSize=\"large\" color=\"error\" />\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span> {passwordsMatch.error} </span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\taction={[\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tkey=\"close\"\n\t\t\t\t\t\t\t\t\taria-label=\"close\"\n\t\t\t\t\t\t\t\t\tonClick={errorClose}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CloseIcon color=\"error\" />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Snackbar>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t{message.data ? (\n\t\t\t\t\t\t<Snackbar\n\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\tseverity=\"success\"\n\t\t\t\t\t\tkey={message.data}\n\t\t\t\t\t\tanchorOrigin={{\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"center\"\n\t\t\t\t\t\t}}\n\t\t\t\t\t\topen={message.messageOpen}\n\t\t\t\t\t\tonClose={messageClose}\n\t\t\t\t\t\tautoHideDuration={3000}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<SnackbarContent\n\t\t\t\t\t\t\tclassName={classes.success}\n\t\t\t\t\t\t\tmessage={\n\t\t\t\t\t\t\t<div style={{color:\"green\"}}>\n\t\t\t\t\t\t\t\t<span style={{ marginRight: \"8px\" }}>\n\t\t\t\t\t\t\t\t<CheckCircleOutlineIcon fontSize=\"large\"   />\n\t\t\t\t\t\t\t\t</span >\n\t\t\t\t\t\t\t\t<span> {message.data} </span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taction={[\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tkey=\"close\"\n\t\t\t\t\t\t\t\taria-label=\"close\"\n\t\t\t\t\t\t\t\tonClick={messageClose}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CloseIcon style={{color:\"green\"}} />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Snackbar>\n\t\t\t\t\t) : null}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tname=\"submit\"\n\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\tReset Password\n\t\t\t\t\t</Button>\n\t\t\t\t\t\n\t\t\t\t</ValidatorForm>\n\t\t\t</div>\n\t\t</Container>\n\t\t</div>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}