{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useHistory}from'react-router-dom';import axiosInstance from'./axios';import Posts from'./components/posts/posts';import PostLoadingComponent from'./components/posts/postLoading';import Header from'./components/header';import ErrorBoundary from'./components/ErrorBoundary';function App(){const history=useHistory();const PostLoading=PostLoadingComponent(Posts);const[appState,setAppState]=useState({loading:true,posts:null});useEffect(()=>{const fetchPosts=async()=>{try{const res=await axiosInstance.get();setAppState({loading:false,posts:res.data});}catch(err){console.log('Inside Error',err);if(err.response&&err.response.status===401){history.push('/login');}}};fetchPosts();},[history]);return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(ErrorBoundary,null,/*#__PURE__*/React.createElement(Header,null)),/*#__PURE__*/React.createElement(\"h1\",null,\"Latest Posts\"),/*#__PURE__*/React.createElement(PostLoading,{isLoading:appState.loading,posts:appState.posts}));}export default App;","map":{"version":3,"names":["React","useEffect","useState","useHistory","axiosInstance","Posts","PostLoadingComponent","Header","ErrorBoundary","App","history","PostLoading","appState","setAppState","loading","posts","fetchPosts","res","get","data","err","console","log","response","status","push","createElement","className","isLoading"],"sources":["/app/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axiosInstance from './axios';\nimport Posts from './components/posts/posts';\nimport PostLoadingComponent from './components/posts/postLoading';\nimport Header from './components/header';\nimport ErrorBoundary from './components/ErrorBoundary';\n\nfunction App() {\n  const history = useHistory();\n  const PostLoading = PostLoadingComponent(Posts);\n  const [appState, setAppState] = useState({\n    loading: true,\n    posts: null,\n  });\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const res = await axiosInstance.get();\n        setAppState({ loading: false, posts: res.data });\n      } catch (err) {\n        console.log('Inside Error', err);\n        if (err.response && err.response.status === 401) {\n          history.push('/login');\n        }\n      }\n    };\n\n    fetchPosts();\n  }, [history]);\n\n  return (\n    <div className=\"App\">\n      <ErrorBoundary>\n        <Header />\n      </ErrorBoundary>\n      <h1>Latest Posts</h1>\n      <PostLoading isLoading={appState.loading} posts={appState.posts} />\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,MAAO,CAAAC,aAAa,KAAM,SAAS,CACnC,MAAO,CAAAC,KAAK,KAAM,0BAA0B,CAC5C,MAAO,CAAAC,oBAAoB,KAAM,gCAAgC,CACjE,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,aAAa,KAAM,4BAA4B,CAEtD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAAAC,OAAO,CAAGP,UAAU,CAAC,CAAC,CAC5B,KAAM,CAAAQ,WAAW,CAAGL,oBAAoB,CAACD,KAAK,CAAC,CAC/C,KAAM,CAACO,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,CACvCY,OAAO,CAAE,IAAI,CACbC,KAAK,CAAE,IACT,CAAC,CAAC,CAEFd,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAb,aAAa,CAACc,GAAG,CAAC,CAAC,CACrCL,WAAW,CAAC,CAAEC,OAAO,CAAE,KAAK,CAAEC,KAAK,CAAEE,GAAG,CAACE,IAAK,CAAC,CAAC,CAClD,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAEF,GAAG,CAAC,CAChC,GAAIA,GAAG,CAACG,QAAQ,EAAIH,GAAG,CAACG,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CAC/Cd,OAAO,CAACe,IAAI,CAAC,QAAQ,CAAC,CACxB,CACF,CACF,CAAC,CAEDT,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,CAACN,OAAO,CAAC,CAAC,CAEb,mBACEV,KAAA,CAAA0B,aAAA,QAAKC,SAAS,CAAC,KAAK,eAClB3B,KAAA,CAAA0B,aAAA,CAAClB,aAAa,mBACZR,KAAA,CAAA0B,aAAA,CAACnB,MAAM,KAAE,CACI,CAAC,cAChBP,KAAA,CAAA0B,aAAA,WAAI,cAAgB,CAAC,cACrB1B,KAAA,CAAA0B,aAAA,CAACf,WAAW,EAACiB,SAAS,CAAEhB,QAAQ,CAACE,OAAQ,CAACC,KAAK,CAAEH,QAAQ,CAACG,KAAM,CAAE,CAC/D,CAAC,CAEV,CAEA,cAAe,CAAAN,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module"}