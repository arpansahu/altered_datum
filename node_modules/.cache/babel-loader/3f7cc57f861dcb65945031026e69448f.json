{"ast":null,"code":"var _jsxFileName = \"/Users/arpansahu/projects/profile/altered_datum/src/App.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axiosInstance from './axios';\nimport Posts from './components/posts/posts';\nimport PostLoadingComponent from './components/posts/postLoading';\nimport Header from './components/header';\nimport ErrorBoundary from './components/ErrorBoundary';\n\nfunction App() {\n  const history = useHistory();\n  const PostLoading = PostLoadingComponent(Posts);\n  const [appState, setAppState] = useState({\n    loading: true,\n    posts: null\n  });\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const res = await axiosInstance.get();\n        setAppState({\n          loading: false,\n          posts: res.data\n        });\n      } catch (err) {\n        console.log('Inside Error', err);\n\n        if (err.response && err.response.status === 401) {\n          history.push('/login');\n        }\n      }\n    };\n\n    fetchPosts();\n  }, [history]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ErrorBoundary, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, \"Latest Posts\"), /*#__PURE__*/React.createElement(PostLoading, {\n    isLoading: appState.loading,\n    posts: appState.posts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/arpansahu/projects/profile/altered_datum/src/App.js"],"names":["React","useEffect","useState","useHistory","axiosInstance","Posts","PostLoadingComponent","Header","ErrorBoundary","App","history","PostLoading","appState","setAppState","loading","posts","fetchPosts","res","get","data","err","console","log","response","status","push"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,aAAP,MAA0B,SAA1B;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,OAAOC,oBAAP,MAAiC,gCAAjC;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,aAAP,MAA0B,4BAA1B;;AAEA,SAASC,GAAT,GAAe;AACb,QAAMC,OAAO,GAAGP,UAAU,EAA1B;AACA,QAAMQ,WAAW,GAAGL,oBAAoB,CAACD,KAAD,CAAxC;AACA,QAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC;AACvCY,IAAAA,OAAO,EAAE,IAD8B;AAEvCC,IAAAA,KAAK,EAAE;AAFgC,GAAD,CAAxC;AAKAd,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMe,UAAU,GAAG,YAAY;AAC7B,UAAI;AACF,cAAMC,GAAG,GAAG,MAAMb,aAAa,CAACc,GAAd,EAAlB;AACAL,QAAAA,WAAW,CAAC;AAAEC,UAAAA,OAAO,EAAE,KAAX;AAAkBC,UAAAA,KAAK,EAAEE,GAAG,CAACE;AAA7B,SAAD,CAAX;AACD,OAHD,CAGE,OAAOC,GAAP,EAAY;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,GAA5B;;AACA,YAAIA,GAAG,CAACG,QAAJ,IAAgBH,GAAG,CAACG,QAAJ,CAAaC,MAAb,KAAwB,GAA5C,EAAiD;AAC/Cd,UAAAA,OAAO,CAACe,IAAR,CAAa,QAAb;AACD;AACF;AACF,KAVD;;AAYAT,IAAAA,UAAU;AACX,GAdQ,EAcN,CAACN,OAAD,CAdM,CAAT;AAgBA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF,eAKE,oBAAC,WAAD;AAAa,IAAA,SAAS,EAAEE,QAAQ,CAACE,OAAjC;AAA0C,IAAA,KAAK,EAAEF,QAAQ,CAACG,KAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADF;AASD;;AAED,eAAeN,GAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axiosInstance from './axios';\nimport Posts from './components/posts/posts';\nimport PostLoadingComponent from './components/posts/postLoading';\nimport Header from './components/header';\nimport ErrorBoundary from './components/ErrorBoundary';\n\nfunction App() {\n  const history = useHistory();\n  const PostLoading = PostLoadingComponent(Posts);\n  const [appState, setAppState] = useState({\n    loading: true,\n    posts: null,\n  });\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const res = await axiosInstance.get();\n        setAppState({ loading: false, posts: res.data });\n      } catch (err) {\n        console.log('Inside Error', err);\n        if (err.response && err.response.status === 401) {\n          history.push('/login');\n        }\n      }\n    };\n\n    fetchPosts();\n  }, [history]);\n\n  return (\n    <div className=\"App\">\n      <ErrorBoundary>\n        <Header />\n      </ErrorBoundary>\n      <h1>Latest Posts</h1>\n      <PostLoading isLoading={appState.loading} posts={appState.posts} />\n    </div>\n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}