{"ast":null,"code":"import _slicedToArray from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axiosInstance from'../../axios';import{makeStyles}from'@material-ui/core/styles';import Card from'@material-ui/core/Card';import CardContent from'@material-ui/core/CardContent';import CardMedia from'@material-ui/core/CardMedia';import Grid from'@material-ui/core/Grid';import Typography from'@material-ui/core/Typography';import Container from'@material-ui/core/Container';import Link from'@material-ui/core/Link';var useStyles=makeStyles(function(theme){return{cardMedia:{paddingTop:'56.25%'// 16:9\n},link:{margin:theme.spacing(1,1.5)},cardHeader:{backgroundColor:theme.palette.type==='light'?theme.palette.grey[200]:theme.palette.grey[700]},postTitle:{fontSize:'16px',textAlign:'left'},postText:{display:'flex',justifyContent:'left',alignItems:'baseline',fontSize:'12px',textAlign:'left',marginBottom:theme.spacing(2)}};});var Search=function Search(){var classes=useStyles();var search='search';var _useState=useState({search:'',posts:[]}),_useState2=_slicedToArray(_useState,2),appState=_useState2[0],setAppState=_useState2[1];useEffect(function(){axiosInstance.get(search+'/'+window.location.search).then(function(res){var allPosts=res.data;setAppState({posts:allPosts});console.log(res.data);});},[setAppState]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Container,{maxWidth:\"md\",component:\"main\"},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:5,alignItems:\"flex-end\"},appState.posts.map(function(post){return/*#__PURE__*/ (// Enterprise card is full width at sm breakpoint\nReact.createElement(Grid,{item:true,key:post.id,xs:12,md:4},/*#__PURE__*/React.createElement(Card,{className:classes.card},/*#__PURE__*/React.createElement(Link,{color:\"textPrimary\",href:'/post/'+post.slug,className:classes.link},/*#__PURE__*/React.createElement(CardMedia,{className:classes.cardMedia,image:\"https://source.unsplash.com/random\",title:\"Image title\"})),/*#__PURE__*/React.createElement(CardContent,{className:classes.cardContent},/*#__PURE__*/React.createElement(Typography,{gutterBottom:true,variant:\"h6\",component:\"h2\",className:classes.postTitle},post.title.substr(0,50),\"...\"),/*#__PURE__*/React.createElement(\"div\",{className:classes.postText},/*#__PURE__*/React.createElement(Typography,{color:\"textSecondary\"},post.excerpt.substr(0,40),\"...\"))))));}))));};export default Search;","map":{"version":3,"sources":["/app/src/components/posts/search.js"],"names":["React","useState","useEffect","axiosInstance","makeStyles","Card","CardContent","CardMedia","Grid","Typography","Container","Link","useStyles","theme","cardMedia","paddingTop","link","margin","spacing","cardHeader","backgroundColor","palette","type","grey","postTitle","fontSize","textAlign","postText","display","justifyContent","alignItems","marginBottom","Search","classes","search","posts","appState","setAppState","get","window","location","then","res","allPosts","data","console","log","map","post","id","card","slug","cardContent","title","substr","excerpt"],"mappings":"2HAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,aAAP,KAA0B,aAA1B,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CAEA,GAAMC,CAAAA,SAAS,CAAGR,UAAU,CAAC,SAACS,KAAD,QAAY,CACxCC,SAAS,CAAE,CACVC,UAAU,CAAE,QAAU;AADZ,CAD6B,CAIxCC,IAAI,CAAE,CACLC,MAAM,CAAEJ,KAAK,CAACK,OAAN,CAAc,CAAd,CAAiB,GAAjB,CADH,CAJkC,CAOxCC,UAAU,CAAE,CACXC,eAAe,CACdP,KAAK,CAACQ,OAAN,CAAcC,IAAd,GAAuB,OAAvB,CACGT,KAAK,CAACQ,OAAN,CAAcE,IAAd,CAAmB,GAAnB,CADH,CAEGV,KAAK,CAACQ,OAAN,CAAcE,IAAd,CAAmB,GAAnB,CAJO,CAP4B,CAaxCC,SAAS,CAAE,CACVC,QAAQ,CAAE,MADA,CAEVC,SAAS,CAAE,MAFD,CAb6B,CAiBxCC,QAAQ,CAAE,CACTC,OAAO,CAAE,MADA,CAETC,cAAc,CAAE,MAFP,CAGTC,UAAU,CAAE,UAHH,CAITL,QAAQ,CAAE,MAJD,CAKTC,SAAS,CAAE,MALF,CAMTK,YAAY,CAAElB,KAAK,CAACK,OAAN,CAAc,CAAd,CANL,CAjB8B,CAAZ,EAAD,CAA5B,CA2BA,GAAMc,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACpB,GAAMC,CAAAA,OAAO,CAAGrB,SAAS,EAAzB,CACA,GAAMsB,CAAAA,MAAM,CAAG,QAAf,CAFoB,cAGYjC,QAAQ,CAAC,CACxCiC,MAAM,CAAE,EADgC,CAExCC,KAAK,CAAE,EAFiC,CAAD,CAHpB,wCAGbC,QAHa,eAGHC,WAHG,eAQpBnC,SAAS,CAAC,UAAM,CACfC,aAAa,CAACmC,GAAd,CAAkBJ,MAAM,CAAG,GAAT,CAAeK,MAAM,CAACC,QAAP,CAAgBN,MAAjD,EAAyDO,IAAzD,CAA8D,SAACC,GAAD,CAAS,CACtE,GAAMC,CAAAA,QAAQ,CAAGD,GAAG,CAACE,IAArB,CACAP,WAAW,CAAC,CAAEF,KAAK,CAAEQ,QAAT,CAAD,CAAX,CACAE,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACE,IAAhB,EACA,CAJD,EAKA,CANQ,CAMN,CAACP,WAAD,CANM,CAAT,CAQA,mBACC,oBAAC,KAAD,CAAO,QAAP,mBACC,oBAAC,SAAD,EAAW,QAAQ,CAAC,IAApB,CAAyB,SAAS,CAAC,MAAnC,eACC,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,CAA4B,UAAU,CAAC,UAAvC,EACED,QAAQ,CAACD,KAAT,CAAeY,GAAf,CAAmB,SAACC,IAAD,CAAU,CAC7B,oBACC;AACA,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,GAAG,CAAEA,IAAI,CAACC,EAArB,CAAyB,EAAE,CAAE,EAA7B,CAAiC,EAAE,CAAE,CAArC,eACC,oBAAC,IAAD,EAAM,SAAS,CAAEhB,OAAO,CAACiB,IAAzB,eACC,oBAAC,IAAD,EACC,KAAK,CAAC,aADP,CAEC,IAAI,CAAE,SAAWF,IAAI,CAACG,IAFvB,CAGC,SAAS,CAAElB,OAAO,CAACjB,IAHpB,eAKC,oBAAC,SAAD,EACC,SAAS,CAAEiB,OAAO,CAACnB,SADpB,CAEC,KAAK,CAAC,oCAFP,CAGC,KAAK,CAAC,aAHP,EALD,CADD,cAYC,oBAAC,WAAD,EAAa,SAAS,CAAEmB,OAAO,CAACmB,WAAhC,eACC,oBAAC,UAAD,EACC,YAAY,KADb,CAEC,OAAO,CAAC,IAFT,CAGC,SAAS,CAAC,IAHX,CAIC,SAAS,CAAEnB,OAAO,CAACT,SAJpB,EAMEwB,IAAI,CAACK,KAAL,CAAWC,MAAX,CAAkB,CAAlB,CAAqB,EAArB,CANF,OADD,cASC,2BAAK,SAAS,CAAErB,OAAO,CAACN,QAAxB,eACC,oBAAC,UAAD,EAAY,KAAK,CAAC,eAAlB,EACEqB,IAAI,CAACO,OAAL,CAAaD,MAAb,CAAoB,CAApB,CAAuB,EAAvB,CADF,OADD,CATD,CAZD,CADD,CAFD,EAiCA,CAlCA,CADF,CADD,CADD,CADD,CA2CA,CA3DD,CA4DA,cAAetB,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axiosInstance from '../../axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Link from '@material-ui/core/Link';\n\nconst useStyles = makeStyles((theme) => ({\n\tcardMedia: {\n\t\tpaddingTop: '56.25%', // 16:9\n\t},\n\tlink: {\n\t\tmargin: theme.spacing(1, 1.5),\n\t},\n\tcardHeader: {\n\t\tbackgroundColor:\n\t\t\ttheme.palette.type === 'light'\n\t\t\t\t? theme.palette.grey[200]\n\t\t\t\t: theme.palette.grey[700],\n\t},\n\tpostTitle: {\n\t\tfontSize: '16px',\n\t\ttextAlign: 'left',\n\t},\n\tpostText: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'left',\n\t\talignItems: 'baseline',\n\t\tfontSize: '12px',\n\t\ttextAlign: 'left',\n\t\tmarginBottom: theme.spacing(2),\n\t},\n}));\n\nconst Search = () => {\n\tconst classes = useStyles();\n\tconst search = 'search';\n\tconst [appState, setAppState] = useState({\n\t\tsearch: '',\n\t\tposts: [],\n\t});\n\n\tuseEffect(() => {\n\t\taxiosInstance.get(search + '/' + window.location.search).then((res) => {\n\t\t\tconst allPosts = res.data;\n\t\t\tsetAppState({ posts: allPosts });\n\t\t\tconsole.log(res.data);\n\t\t});\n\t}, [setAppState]);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Container maxWidth=\"md\" component=\"main\">\n\t\t\t\t<Grid container spacing={5} alignItems=\"flex-end\">\n\t\t\t\t\t{appState.posts.map((post) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t// Enterprise card is full width at sm breakpoint\n\t\t\t\t\t\t\t<Grid item key={post.id} xs={12} md={4}>\n\t\t\t\t\t\t\t\t<Card className={classes.card}>\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\tcolor=\"textPrimary\"\n\t\t\t\t\t\t\t\t\t\thref={'/post/' + post.slug}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.link}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<CardMedia\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.cardMedia}\n\t\t\t\t\t\t\t\t\t\t\timage=\"https://source.unsplash.com/random\"\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"Image title\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t<CardContent className={classes.cardContent}>\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\t\t\t\t\t\tcomponent=\"h2\"\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.postTitle}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{post.title.substr(0, 50)}...\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<div className={classes.postText}>\n\t\t\t\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\">\n\t\t\t\t\t\t\t\t\t\t\t\t{post.excerpt.substr(0, 40)}...\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</Grid>\n\t\t\t</Container>\n\t\t</React.Fragment>\n\t);\n};\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}