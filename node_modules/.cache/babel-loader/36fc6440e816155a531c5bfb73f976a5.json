{"ast":null,"code":"var _jsxFileName = \"/Users/arpansahu/projects/profile/altered_datum/src/components/auth/account.js\";\nimport React, { useState, useEffect } from 'react';\nimport axiosInstance from '../../axios';\nimport Header from '../header'; // MaterialUI\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { NavLink } from 'react-router-dom';\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark\n  },\n  success: {\n    backgroundColor: theme.palette.success.main\n  }\n}));\nexport default function FormPropsTextFields() {\n  const classes = useStyles();\n  const [id, setId] = useState(null);\n  const [formData, setFormData] = useState({\n    username: '',\n    about: ''\n  });\n  const [user, setUser] = useState({});\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    variant: ''\n  });\n  useEffect(() => {\n    axiosInstance.get('user/account/').then(res => {\n      const account = res.data;\n      setUser({\n        is_superuser: account.is_staff,\n        username: account.username,\n        email: account.email\n      });\n      setFormData({\n        username: account.username,\n        about: account.about || ''\n      });\n      setId(account.id);\n    }).catch(err => {\n      console.error(\"Error fetching user data:\", err);\n    });\n  }, []);\n\n  const handleChange = e => {\n    setFormData({ ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (!formData.username && !formData.about) {\n      setSnackbar({\n        open: true,\n        message: \"Nothing to update\",\n        variant: 'error'\n      });\n      return;\n    }\n\n    axiosInstance.patch(`user/account/update/${id}/`, formData).then(res => {\n      setSnackbar({\n        open: true,\n        message: \"Your account details were updated successfully\",\n        variant: 'success'\n      });\n    }).catch(error => {\n      setSnackbar({\n        open: true,\n        message: \"Failed to update account details\",\n        variant: 'error'\n      });\n      console.error(\"Error updating account details:\", error);\n    });\n  };\n\n  const handleSnackbarClose = () => {\n    setSnackbar({ ...snackbar,\n      open: false\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 6\n    }\n  }, \"Account Details\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    noValidate: true,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    fullWidth: true,\n    id: \"email\",\n    name: \"email\",\n    autoComplete: \"email\",\n    disabled: true,\n    value: user.email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    fullWidth: true,\n    id: \"username\",\n    name: \"username\",\n    placeholder: \"Username\",\n    onChange: handleChange,\n    value: formData.username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    fullWidth: true,\n    multiline: true,\n    id: \"about\",\n    name: \"about\",\n    label: \"About\",\n    placeholder: \"Tell us about yourself\",\n    onChange: handleChange,\n    value: formData.about,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.submit,\n    \"aria-label\": \"Update Account details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }, \"Update Account details\"), /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"secondary\",\n    className: classes.submit,\n    component: NavLink,\n    to: \"/account/passwordupdate\",\n    \"aria-label\": \"Update Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }\n  }, \"Update Password\")), /*#__PURE__*/React.createElement(Snackbar, {\n    open: snackbar.open,\n    autoHideDuration: 3000,\n    onClose: handleSnackbarClose,\n    anchorOrigin: {\n      vertical: \"bottom\",\n      horizontal: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(SnackbarContent, {\n    className: classes[snackbar.variant],\n    message: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        marginRight: \"8px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 10\n      }\n    }, snackbar.variant === 'error' ? /*#__PURE__*/React.createElement(ErrorIcon, {\n      fontSize: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 12\n      }\n    }) : /*#__PURE__*/React.createElement(CheckCircleOutlineIcon, {\n      fontSize: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 12\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 10\n      }\n    }, snackbar.message)),\n    action: [/*#__PURE__*/React.createElement(IconButton, {\n      key: \"close\",\n      \"aria-label\": \"close\",\n      onClick: handleSnackbarClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 10\n      }\n    }))],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }\n  })))));\n}","map":{"version":3,"sources":["/Users/arpansahu/projects/profile/altered_datum/src/components/auth/account.js"],"names":["React","useState","useEffect","axiosInstance","Header","Avatar","Button","CssBaseline","TextField","Grid","Typography","makeStyles","Container","Snackbar","SnackbarContent","IconButton","ErrorIcon","CheckCircleOutlineIcon","CloseIcon","NavLink","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","error","dark","success","FormPropsTextFields","classes","id","setId","formData","setFormData","username","about","user","setUser","snackbar","setSnackbar","open","message","variant","get","then","res","account","data","is_superuser","is_staff","email","catch","err","console","handleChange","e","target","name","value","handleSubmit","preventDefault","patch","handleSnackbarClose","vertical","horizontal","marginRight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axiosInstance from '../../axios';\nimport Header from '../header';\n// MaterialUI\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { NavLink } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center',\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: '100%', // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing(1),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n\terror: {\n\t\tbackgroundColor: theme.palette.error.dark,\n\t},\n\tsuccess: {\n\t\tbackgroundColor: theme.palette.success.main,\n\t},\n}));\n\nexport default function FormPropsTextFields() {\n\tconst classes = useStyles();\n\tconst [id, setId] = useState(null);\n\tconst [formData, setFormData] = useState({\n\t\tusername: '',\n\t\tabout: '',\n\t});\n\tconst [user, setUser] = useState({});\n\tconst [snackbar, setSnackbar] = useState({\n\t\topen: false,\n\t\tmessage: '',\n\t\tvariant: '',\n\t});\n\n\tuseEffect(() => {\n\t\taxiosInstance.get('user/account/')\n\t\t\t.then((res) => {\n\t\t\t\tconst account = res.data;\n\t\t\t\tsetUser({\n\t\t\t\t\tis_superuser: account.is_staff,\n\t\t\t\t\tusername: account.username,\n\t\t\t\t\temail: account.email,\n\t\t\t\t});\n\t\t\t\tsetFormData({\n\t\t\t\t\tusername: account.username,\n\t\t\t\t\tabout: account.about || '',\n\t\t\t\t});\n\t\t\t\tsetId(account.id);\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.error(\"Error fetching user data:\", err);\n\t\t\t});\n\t}, []);\n\n\tconst handleChange = (e) => {\n\t\tsetFormData({\n\t\t\t...formData,\n\t\t\t[e.target.name]: e.target.value,\n\t\t});\n\t};\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tif (!formData.username && !formData.about) {\n\t\t\tsetSnackbar({\n\t\t\t\topen: true,\n\t\t\t\tmessage: \"Nothing to update\",\n\t\t\t\tvariant: 'error',\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\taxiosInstance.patch(`user/account/update/${id}/`, formData)\n\t\t\t.then((res) => {\n\t\t\t\tsetSnackbar({\n\t\t\t\t\topen: true,\n\t\t\t\t\tmessage: \"Your account details were updated successfully\",\n\t\t\t\t\tvariant: 'success',\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tsetSnackbar({\n\t\t\t\t\topen: true,\n\t\t\t\t\tmessage: \"Failed to update account details\",\n\t\t\t\t\tvariant: 'error',\n\t\t\t\t});\n\t\t\t\tconsole.error(\"Error updating account details:\", error);\n\t\t\t});\n\t};\n\n\tconst handleSnackbarClose = () => {\n\t\tsetSnackbar({\n\t\t\t...snackbar,\n\t\t\topen: false,\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Header />\n\t\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t\t<CssBaseline />\n\t\t\t\t<div className={classes.paper}>\n\t\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t\tAccount Details\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<form className={classes.form} noValidate onSubmit={handleSubmit}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\tvalue={user.email}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tvalue={formData.username}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\tid=\"about\"\n\t\t\t\t\t\t\tname=\"about\"\n\t\t\t\t\t\t\tlabel=\"About\"\n\t\t\t\t\t\t\tplaceholder=\"Tell us about yourself\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tvalue={formData.about}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t\taria-label=\"Update Account details\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tUpdate Account details\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t\tcomponent={NavLink}\n\t\t\t\t\t\t\tto=\"/account/passwordupdate\"\n\t\t\t\t\t\t\taria-label=\"Update Password\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tUpdate Password\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</form>\n\n\t\t\t\t\t<Snackbar\n\t\t\t\t\t\topen={snackbar.open}\n\t\t\t\t\t\tautoHideDuration={3000}\n\t\t\t\t\t\tonClose={handleSnackbarClose}\n\t\t\t\t\t\tanchorOrigin={{\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"center\"\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SnackbarContent\n\t\t\t\t\t\t\tclassName={classes[snackbar.variant]}\n\t\t\t\t\t\t\tmessage={\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span style={{ marginRight: \"8px\" }}>\n\t\t\t\t\t\t\t\t\t\t{snackbar.variant === 'error' ? (\n\t\t\t\t\t\t\t\t\t\t\t<ErrorIcon fontSize=\"large\" />\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<CheckCircleOutlineIcon fontSize=\"large\" />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span>{snackbar.message}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taction={[\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tkey=\"close\"\n\t\t\t\t\t\t\t\t\taria-label=\"close\"\n\t\t\t\t\t\t\t\t\tonClick={handleSnackbarClose}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t\t</IconButton>,\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Snackbar>\n\t\t\t\t</div>\n\t\t\t</Container>\n\t\t</div>\n\t);\n}"]},"metadata":{},"sourceType":"module"}